<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="2611pt" height="2172pt"
 viewBox="0.00 0.00 2611.40 2171.62" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2167.62)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-2167.62 2607.4,-2167.62 2607.4,4 -4,4"/>
<!-- cust&#45;53541bfe6935222bec4eabee250a11ca -->
<g id="node1" class="node">
<title>cust&#45;53541bfe6935222bec4eabee250a11ca</title>
<g id="a_node1"><a xlink:title="/bin/sh &#45;c #(nop) ADD file:80331a5d882ac8a70763f4b19e06f2e04ea3dca34ae6d92810815b170b3c806c in / ">
<defs>
<linearGradient id="l_0" gradientUnits="userSpaceOnUse" x1="111.2" y1="-2122.12" x2="427.2" y2="-2122.12" >
<stop offset="0.171" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.172" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_0)" stroke="black" points="427.2,-2163.62 111.2,-2163.62 111.2,-2080.62 427.2,-2080.62 427.2,-2163.62"/>
<text text-anchor="middle" x="269.2" y="-2148.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.17180371393759877</text>
<text text-anchor="middle" x="269.2" y="-2133.42" font-family="Times,serif" font-size="14.00">layer size: 6.74mb</text>
<text text-anchor="middle" x="269.2" y="-2118.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.2mb</text>
<text text-anchor="middle" x="269.2" y="-2103.42" font-family="Times,serif" font-size="14.00">running total: 6.74mb</text>
<text text-anchor="middle" x="269.2" y="-2088.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) ADD file:80331a5d882ac</text>
</a>
</g>
</g>
<!-- cust&#45;7369a17b2c9f8e36a755ec93d25b0458 -->
<g id="node2" class="node">
<title>cust&#45;7369a17b2c9f8e36a755ec93d25b0458</title>
<g id="a_node2"><a xlink:title="/bin/sh &#45;c #(nop) &#160;CMD [&quot;/bin/sh&quot;]">
<defs>
<linearGradient id="l_1" gradientUnits="userSpaceOnUse" x1="141.2" y1="-2003.12" x2="397.2" y2="-2003.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_1)" stroke="black" points="397.2,-2044.62 141.2,-2044.62 141.2,-1961.62 397.2,-1961.62 397.2,-2044.62"/>
<text text-anchor="middle" x="269.2" y="-2029.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="269.2" y="-2014.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="269.2" y="-1999.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.2mb</text>
<text text-anchor="middle" x="269.2" y="-1984.42" font-family="Times,serif" font-size="14.00">running total: 6.74mb</text>
<text text-anchor="middle" x="269.2" y="-1969.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) &#160;CMD [&quot;/bin/sh&quot;]</text>
</a>
</g>
</g>
<!-- cust&#45;53541bfe6935222bec4eabee250a11ca&#45;&gt;cust&#45;7369a17b2c9f8e36a755ec93d25b0458 -->
<g id="edge15" class="edge">
<title>cust&#45;53541bfe6935222bec4eabee250a11ca&#45;&gt;cust&#45;7369a17b2c9f8e36a755ec93d25b0458</title>
<path fill="none" stroke="black" d="M269.2,-2080.53C269.2,-2072.27 269.2,-2063.48 269.2,-2054.92"/>
<polygon fill="black" stroke="black" points="272.7,-2054.64 269.2,-2044.64 265.7,-2054.64 272.7,-2054.64"/>
</g>
<!-- cust&#45;d82e2173cd552340465b1e45a1141316 -->
<g id="node3" class="node">
<title>cust&#45;d82e2173cd552340465b1e45a1141316</title>
<g id="a_node3"><a xlink:title="LABEL maintainer=NGINX Docker Maintainers &lt;docker&#45;maint@nginx.com&gt;">
<defs>
<linearGradient id="l_2" gradientUnits="userSpaceOnUse" x1="95.2" y1="-1884.12" x2="443.2" y2="-1884.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_2)" stroke="black" points="443.2,-1925.62 95.2,-1925.62 95.2,-1842.62 443.2,-1842.62 443.2,-1925.62"/>
<text text-anchor="middle" x="269.2" y="-1910.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="269.2" y="-1895.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="269.2" y="-1880.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.2mb</text>
<text text-anchor="middle" x="269.2" y="-1865.42" font-family="Times,serif" font-size="14.00">running total: 6.74mb</text>
<text text-anchor="middle" x="269.2" y="-1850.42" font-family="Times,serif" font-size="14.00">LABEL maintainer=NGINX Docker Maintainer</text>
</a>
</g>
</g>
<!-- cust&#45;7369a17b2c9f8e36a755ec93d25b0458&#45;&gt;cust&#45;d82e2173cd552340465b1e45a1141316 -->
<g id="edge14" class="edge">
<title>cust&#45;7369a17b2c9f8e36a755ec93d25b0458&#45;&gt;cust&#45;d82e2173cd552340465b1e45a1141316</title>
<path fill="none" stroke="black" d="M269.2,-1961.53C269.2,-1953.27 269.2,-1944.48 269.2,-1935.92"/>
<polygon fill="black" stroke="black" points="272.7,-1935.64 269.2,-1925.64 265.7,-1935.64 272.7,-1935.64"/>
</g>
<!-- cust&#45;6e79247ac8870b6dd337b43dce174e94 -->
<g id="node4" class="node">
<title>cust&#45;6e79247ac8870b6dd337b43dce174e94</title>
<g id="a_node4"><a xlink:title="ENV NGINX_VERSION=1.24.0">
<defs>
<linearGradient id="l_3" gradientUnits="userSpaceOnUse" x1="151.2" y1="-1765.12" x2="387.2" y2="-1765.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_3)" stroke="black" points="387.2,-1806.62 151.2,-1806.62 151.2,-1723.62 387.2,-1723.62 387.2,-1806.62"/>
<text text-anchor="middle" x="269.2" y="-1791.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="269.2" y="-1776.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="269.2" y="-1761.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.2mb</text>
<text text-anchor="middle" x="269.2" y="-1746.42" font-family="Times,serif" font-size="14.00">running total: 6.74mb</text>
<text text-anchor="middle" x="269.2" y="-1731.42" font-family="Times,serif" font-size="14.00">ENV NGINX_VERSION=1.24.0</text>
</a>
</g>
</g>
<!-- cust&#45;d82e2173cd552340465b1e45a1141316&#45;&gt;cust&#45;6e79247ac8870b6dd337b43dce174e94 -->
<g id="edge13" class="edge">
<title>cust&#45;d82e2173cd552340465b1e45a1141316&#45;&gt;cust&#45;6e79247ac8870b6dd337b43dce174e94</title>
<path fill="none" stroke="black" d="M269.2,-1842.53C269.2,-1834.27 269.2,-1825.48 269.2,-1816.92"/>
<polygon fill="black" stroke="black" points="272.7,-1816.64 269.2,-1806.64 265.7,-1816.64 272.7,-1816.64"/>
</g>
<!-- cust&#45;9cd6ba048c4969a203d98fd1ff965ae1 -->
<g id="node5" class="node">
<title>cust&#45;9cd6ba048c4969a203d98fd1ff965ae1</title>
<g id="a_node5"><a xlink:title="ENV PKG_RELEASE=1">
<defs>
<linearGradient id="l_4" gradientUnits="userSpaceOnUse" x1="177.7" y1="-1646.12" x2="360.7" y2="-1646.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_4)" stroke="black" points="360.7,-1687.62 177.7,-1687.62 177.7,-1604.62 360.7,-1604.62 360.7,-1687.62"/>
<text text-anchor="middle" x="269.2" y="-1672.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="269.2" y="-1657.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="269.2" y="-1642.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.2mb</text>
<text text-anchor="middle" x="269.2" y="-1627.42" font-family="Times,serif" font-size="14.00">running total: 6.74mb</text>
<text text-anchor="middle" x="269.2" y="-1612.42" font-family="Times,serif" font-size="14.00">ENV PKG_RELEASE=1</text>
</a>
</g>
</g>
<!-- cust&#45;6e79247ac8870b6dd337b43dce174e94&#45;&gt;cust&#45;9cd6ba048c4969a203d98fd1ff965ae1 -->
<g id="edge12" class="edge">
<title>cust&#45;6e79247ac8870b6dd337b43dce174e94&#45;&gt;cust&#45;9cd6ba048c4969a203d98fd1ff965ae1</title>
<path fill="none" stroke="black" d="M269.2,-1723.53C269.2,-1715.27 269.2,-1706.48 269.2,-1697.92"/>
<polygon fill="black" stroke="black" points="272.7,-1697.64 269.2,-1687.64 265.7,-1697.64 272.7,-1697.64"/>
</g>
<!-- cust&#45;7665f143cd7739b8e4e4e338e3431196 -->
<g id="node6" class="node">
<title>cust&#45;7665f143cd7739b8e4e4e338e3431196</title>
<g id="a_node6"><a xlink:title="RUN /bin/sh &#45;c set &#45;x &#160;&#160;&#160;&#160;&amp;&amp; addgroup &#45;g 101 &#45;S nginx &#160;&#160;&#160;&#160;&amp;&amp; adduser &#45;S &#45;D &#45;H &#45;u 101 &#45;h /var/cache/nginx &#45;s /sbin/nologin &#45;G nginx &#45;g nginx nginx &#160;&#160;&#160;&#160;&amp;&amp; apkArch=&quot;$(cat /etc/apk/arch)&quot; &#160;&#160;&#160;&#160;&amp;&amp; nginxPackages=&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nginx=${NGINX_VERSION}&#45;r${PKG_RELEASE} &#160;&#160;&#160;&#160;&quot; &#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache &#45;&#45;virtual .checksum&#45;deps &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;openssl &#160;&#160;&#160;&#160;&amp;&amp; case &quot;$apkArch&quot; in &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;x86_64|aarch64) &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set &#45;x &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; KEY_SHA512=&quot;e09fa32f0a0eab2b879ccbbc4d0e4fb9751486eedda75e35fac65802cc9faa266425edf83e261137a2f4d16281ce2c1a5f4502930fe75154723da014214f0655&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; wget &#45;O /tmp/nginx_signing.rsa.pub https://nginx.org/keys/nginx_signing.rsa.pub &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; if echo &quot;$KEY_SHA512 */tmp/nginx_signing.rsa.pub&quot; | sha512sum &#45;c &#45;; then &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;key verification succeeded!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;mv /tmp/nginx_signing.rsa.pub /etc/apk/keys/; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;key verification failed!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;exit 1; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;fi &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;X &quot;https://nginx.org/packages/alpine/v$(egrep &#45;o &#39;^[0&#45;9]+.[0&#45;9]+&#39; /etc/alpine&#45;release)/main&quot; &#45;&#45;no&#45;cache $nginxPackages &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;*) &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set &#45;x &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; tempDir=&quot;$(mktemp &#45;d)&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; chown nobody:nobody $tempDir &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache &#45;&#45;virtual .build&#45;deps &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;gcc &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;libc&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;make &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;openssl&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;pcre2&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;zlib&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;linux&#45;headers &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;bash &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;alpine&#45;sdk &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findutils &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; su nobody &#45;s /bin/sh &#45;c &quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;export HOME=${tempDir} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cd ${tempDir} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; curl &#45;f &#45;O https://hg.nginx.org/pkg&#45;oss/archive/${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; PKGOSSCHECKSUM=&quot;dc47dbaeb1c0874b264d34ddfec40e7d2b814e7db48d144e12d5991c743ef5fcf780ecbab72324e562dd84bb9c0e4dd71d14850b20ceaf470c46f8fe7510275b *${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; if [ &quot;$(openssl sha512 &#45;r ${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz)&quot; = &quot;$PKGOSSCHECKSUM&quot; ]; then &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;pkg&#45;oss tarball checksum verification succeeded!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;pkg&#45;oss tarball checksum verification failed!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;exit 1; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;fi &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; tar xzvf ${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cd pkg&#45;oss&#45;${NGINX_VERSION}&#45;${PKG_RELEASE} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cd alpine &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; make base &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk index &#45;o ${tempDir}/packages/alpine/${apkArch}/APKINDEX.tar.gz ${tempDir}/packages/alpine/${apkArch}/*.apk &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; abuild&#45;sign &#45;k ${tempDir}/.abuild/abuild&#45;key.rsa ${tempDir}/packages/alpine/${apkArch}/APKINDEX.tar.gz &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cp ${tempDir}/.abuild/abuild&#45;key.rsa.pub /etc/apk/keys/ &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk del .build&#45;deps &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;X ${tempDir}/packages/alpine/ &#45;&#45;no&#45;cache $nginxPackages &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;;; &#160;&#160;&#160;&#160;esac &#160;&#160;&#160;&#160;&amp;&amp; apk del .checksum&#45;deps &#160;&#160;&#160;&#160;&amp;&amp; if [ &#45;n &quot;$tempDir&quot; ]; then rm &#45;rf &quot;$tempDir&quot;; fi &#160;&#160;&#160;&#160;&amp;&amp; if [ &#45;n &quot;/etc/apk/keys/abuild&#45;key.rsa.pub&quot; ]; then rm &#45;f /etc/apk/keys/abuild&#45;key.rsa.pub; fi &#160;&#160;&#160;&#160;&amp;&amp; if [ &#45;n &quot;/etc/apk/keys/nginx_signing.rsa.pub&quot; ]; then rm &#45;f /etc/apk/keys/nginx_signing.rsa.pub; fi &#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache &#45;&#45;virtual .gettext gettext &#160;&#160;&#160;&#160;&amp;&amp; mv /usr/bin/envsubst /tmp/ &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; runDeps=&quot;$( &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;scanelf &#45;&#45;needed &#45;&#45;nobanner /tmp/envsubst &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;| awk &#39;{ gsub(/,/, &quot;&#10;so:&quot;, $2); print &quot;so:&quot; $2 }&#39; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;| sort &#45;u &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;| xargs &#45;r apk info &#45;&#45;installed &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;| sort &#45;u &#160;&#160;&#160;&#160;)&quot; &#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache $runDeps &#160;&#160;&#160;&#160;&amp;&amp; apk del .gettext &#160;&#160;&#160;&#160;&amp;&amp; mv /tmp/envsubst /usr/local/bin/ &#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache tzdata &#160;&#160;&#160;&#160;&amp;&amp; ln &#45;sf /dev/stdout /var/log/nginx/access.log &#160;&#160;&#160;&#160;&amp;&amp; ln &#45;sf /dev/stderr /var/log/nginx/error.log &#160;&#160;&#160;&#160;&amp;&amp; mkdir /docker&#45;entrypoint.d # buildkit">
<defs>
<linearGradient id="l_5" gradientUnits="userSpaceOnUse" x1="118.2" y1="-1527.12" x2="420.2" y2="-1527.12" >
<stop offset="0.107" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.108" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_5)" stroke="black" points="420.2,-1568.62 118.2,-1568.62 118.2,-1485.62 420.2,-1485.62 420.2,-1568.62"/>
<text text-anchor="middle" x="269.2" y="-1553.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.10824234629368275</text>
<text text-anchor="middle" x="269.2" y="-1538.42" font-family="Times,serif" font-size="14.00">layer size: 4.24mb</text>
<text text-anchor="middle" x="269.2" y="-1523.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.2mb</text>
<text text-anchor="middle" x="269.2" y="-1508.42" font-family="Times,serif" font-size="14.00">running total: 10.98mb</text>
<text text-anchor="middle" x="269.2" y="-1493.42" font-family="Times,serif" font-size="14.00">RUN /bin/sh &#45;c set &#45;x &#160;&#160;&#160;&#160;&amp;&amp; addgroup &#45;g</text>
</a>
</g>
</g>
<!-- cust&#45;9cd6ba048c4969a203d98fd1ff965ae1&#45;&gt;cust&#45;7665f143cd7739b8e4e4e338e3431196 -->
<g id="edge11" class="edge">
<title>cust&#45;9cd6ba048c4969a203d98fd1ff965ae1&#45;&gt;cust&#45;7665f143cd7739b8e4e4e338e3431196</title>
<path fill="none" stroke="black" d="M269.2,-1604.53C269.2,-1596.27 269.2,-1587.48 269.2,-1578.92"/>
<polygon fill="black" stroke="black" points="272.7,-1578.64 269.2,-1568.64 265.7,-1578.64 272.7,-1578.64"/>
</g>
<!-- cust&#45;9515a2e7a4b032ac3a991e5f99ca92ec -->
<g id="node7" class="node">
<title>cust&#45;9515a2e7a4b032ac3a991e5f99ca92ec</title>
<g id="a_node7"><a xlink:title="COPY docker&#45;entrypoint.sh / # buildkit">
<defs>
<linearGradient id="l_6" gradientUnits="userSpaceOnUse" x1="113.7" y1="-1408.12" x2="424.7" y2="-1408.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_6)" stroke="black" points="424.7,-1449.62 113.7,-1449.62 113.7,-1366.62 424.7,-1366.62 424.7,-1449.62"/>
<text text-anchor="middle" x="269.2" y="-1434.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 3.9311996277037184e&#45;05</text>
<text text-anchor="middle" x="269.2" y="-1419.42" font-family="Times,serif" font-size="14.00">layer size: 1.58kb</text>
<text text-anchor="middle" x="269.2" y="-1404.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.2mb</text>
<text text-anchor="middle" x="269.2" y="-1389.42" font-family="Times,serif" font-size="14.00">running total: 10.98mb</text>
<text text-anchor="middle" x="269.2" y="-1374.42" font-family="Times,serif" font-size="14.00">COPY docker&#45;entrypoint.sh / # buildkit</text>
</a>
</g>
</g>
<!-- cust&#45;7665f143cd7739b8e4e4e338e3431196&#45;&gt;cust&#45;9515a2e7a4b032ac3a991e5f99ca92ec -->
<g id="edge10" class="edge">
<title>cust&#45;7665f143cd7739b8e4e4e338e3431196&#45;&gt;cust&#45;9515a2e7a4b032ac3a991e5f99ca92ec</title>
<path fill="none" stroke="black" d="M269.2,-1485.53C269.2,-1477.27 269.2,-1468.48 269.2,-1459.92"/>
<polygon fill="black" stroke="black" points="272.7,-1459.64 269.2,-1449.64 265.7,-1459.64 272.7,-1459.64"/>
</g>
<!-- cust&#45;4149920cb8a6a6dd13a42ca69f822f47 -->
<g id="node8" class="node">
<title>cust&#45;4149920cb8a6a6dd13a42ca69f822f47</title>
<g id="a_node8"><a xlink:title="COPY 10&#45;listen&#45;on&#45;ipv6&#45;by&#45;default.sh /docker&#45;entrypoint.d # buildkit">
<defs>
<linearGradient id="l_7" gradientUnits="userSpaceOnUse" x1="116.7" y1="-1289.12" x2="421.7" y2="-1289.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_7)" stroke="black" points="421.7,-1330.62 116.7,-1330.62 116.7,-1247.62 421.7,-1247.62 421.7,-1330.62"/>
<text text-anchor="middle" x="269.2" y="-1315.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 5.164564857435021e&#45;05</text>
<text text-anchor="middle" x="269.2" y="-1300.42" font-family="Times,serif" font-size="14.00">layer size: 2.07kb</text>
<text text-anchor="middle" x="269.2" y="-1285.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.2mb</text>
<text text-anchor="middle" x="269.2" y="-1270.42" font-family="Times,serif" font-size="14.00">running total: 10.98mb</text>
<text text-anchor="middle" x="269.2" y="-1255.42" font-family="Times,serif" font-size="14.00">COPY 10&#45;listen&#45;on&#45;ipv6&#45;by&#45;default.sh /do</text>
</a>
</g>
</g>
<!-- cust&#45;9515a2e7a4b032ac3a991e5f99ca92ec&#45;&gt;cust&#45;4149920cb8a6a6dd13a42ca69f822f47 -->
<g id="edge9" class="edge">
<title>cust&#45;9515a2e7a4b032ac3a991e5f99ca92ec&#45;&gt;cust&#45;4149920cb8a6a6dd13a42ca69f822f47</title>
<path fill="none" stroke="black" d="M269.2,-1366.53C269.2,-1358.27 269.2,-1349.48 269.2,-1340.92"/>
<polygon fill="black" stroke="black" points="272.7,-1340.64 269.2,-1330.64 265.7,-1340.64 272.7,-1340.64"/>
</g>
<!-- cust&#45;e03e18bba0cf73a264c0be126b0e824e -->
<g id="node9" class="node">
<title>cust&#45;e03e18bba0cf73a264c0be126b0e824e</title>
<g id="a_node9"><a xlink:title="COPY 20&#45;envsubst&#45;on&#45;templates.sh /docker&#45;entrypoint.d # buildkit">
<defs>
<linearGradient id="l_8" gradientUnits="userSpaceOnUse" x1="107.2" y1="-1170.12" x2="431.2" y2="-1170.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_8)" stroke="black" points="431.2,-1211.62 107.2,-1211.62 107.2,-1128.62 431.2,-1128.62 431.2,-1211.62"/>
<text text-anchor="middle" x="269.2" y="-1196.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 3.096792776031457e&#45;05</text>
<text text-anchor="middle" x="269.2" y="-1181.42" font-family="Times,serif" font-size="14.00">layer size: 1.24kb</text>
<text text-anchor="middle" x="269.2" y="-1166.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.2mb</text>
<text text-anchor="middle" x="269.2" y="-1151.42" font-family="Times,serif" font-size="14.00">running total: 10.98mb</text>
<text text-anchor="middle" x="269.2" y="-1136.42" font-family="Times,serif" font-size="14.00">COPY 20&#45;envsubst&#45;on&#45;templates.sh /docker</text>
</a>
</g>
</g>
<!-- cust&#45;4149920cb8a6a6dd13a42ca69f822f47&#45;&gt;cust&#45;e03e18bba0cf73a264c0be126b0e824e -->
<g id="edge8" class="edge">
<title>cust&#45;4149920cb8a6a6dd13a42ca69f822f47&#45;&gt;cust&#45;e03e18bba0cf73a264c0be126b0e824e</title>
<path fill="none" stroke="black" d="M269.2,-1247.53C269.2,-1239.27 269.2,-1230.48 269.2,-1221.92"/>
<polygon fill="black" stroke="black" points="272.7,-1221.64 269.2,-1211.64 265.7,-1221.64 272.7,-1221.64"/>
</g>
<!-- cust&#45;9d6271c937d159fd6d7fb1a1350847e3 -->
<g id="node10" class="node">
<title>cust&#45;9d6271c937d159fd6d7fb1a1350847e3</title>
<g id="a_node10"><a xlink:title="COPY 30&#45;tune&#45;worker&#45;processes.sh /docker&#45;entrypoint.d # buildkit">
<defs>
<linearGradient id="l_9" gradientUnits="userSpaceOnUse" x1="107.2" y1="-1051.12" x2="431.2" y2="-1051.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_9)" stroke="black" points="431.2,-1092.62 107.2,-1092.62 107.2,-1009.62 431.2,-1009.62 431.2,-1092.62"/>
<text text-anchor="middle" x="269.2" y="-1077.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.00011241382103724557</text>
<text text-anchor="middle" x="269.2" y="-1062.42" font-family="Times,serif" font-size="14.00">layer size: 4.51kb</text>
<text text-anchor="middle" x="269.2" y="-1047.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.2mb</text>
<text text-anchor="middle" x="269.2" y="-1032.42" font-family="Times,serif" font-size="14.00">running total: 10.99mb</text>
<text text-anchor="middle" x="269.2" y="-1017.42" font-family="Times,serif" font-size="14.00">COPY 30&#45;tune&#45;worker&#45;processes.sh /docker</text>
</a>
</g>
</g>
<!-- cust&#45;e03e18bba0cf73a264c0be126b0e824e&#45;&gt;cust&#45;9d6271c937d159fd6d7fb1a1350847e3 -->
<g id="edge7" class="edge">
<title>cust&#45;e03e18bba0cf73a264c0be126b0e824e&#45;&gt;cust&#45;9d6271c937d159fd6d7fb1a1350847e3</title>
<path fill="none" stroke="black" d="M269.2,-1128.53C269.2,-1120.27 269.2,-1111.48 269.2,-1102.92"/>
<polygon fill="black" stroke="black" points="272.7,-1102.64 269.2,-1092.64 265.7,-1102.64 272.7,-1102.64"/>
</g>
<!-- cust&#45;ceebefd264f7ce5f319fb15cdeca0007 -->
<g id="node11" class="node">
<title>cust&#45;ceebefd264f7ce5f319fb15cdeca0007</title>
<g id="a_node11"><a xlink:title="ENTRYPOINT [&quot;/docker&#45;entrypoint.sh&quot;]">
<defs>
<linearGradient id="l_10" gradientUnits="userSpaceOnUse" x1="121.2" y1="-932.12" x2="417.2" y2="-932.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_10)" stroke="black" points="417.2,-973.62 121.2,-973.62 121.2,-890.62 417.2,-890.62 417.2,-973.62"/>
<text text-anchor="middle" x="269.2" y="-958.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="269.2" y="-943.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="269.2" y="-928.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.2mb</text>
<text text-anchor="middle" x="269.2" y="-913.42" font-family="Times,serif" font-size="14.00">running total: 10.99mb</text>
<text text-anchor="middle" x="269.2" y="-898.42" font-family="Times,serif" font-size="14.00">ENTRYPOINT [&quot;/docker&#45;entrypoint.sh&quot;]</text>
</a>
</g>
</g>
<!-- cust&#45;9d6271c937d159fd6d7fb1a1350847e3&#45;&gt;cust&#45;ceebefd264f7ce5f319fb15cdeca0007 -->
<g id="edge6" class="edge">
<title>cust&#45;9d6271c937d159fd6d7fb1a1350847e3&#45;&gt;cust&#45;ceebefd264f7ce5f319fb15cdeca0007</title>
<path fill="none" stroke="black" d="M269.2,-1009.53C269.2,-1001.27 269.2,-992.48 269.2,-983.92"/>
<polygon fill="black" stroke="black" points="272.7,-983.64 269.2,-973.64 265.7,-983.64 272.7,-983.64"/>
</g>
<!-- cust&#45;d5c08b69e15dfcde93ce0ecd5d5bbf05 -->
<g id="node12" class="node">
<title>cust&#45;d5c08b69e15dfcde93ce0ecd5d5bbf05</title>
<g id="a_node12"><a xlink:title="EXPOSE map[80/tcp:{}]">
<defs>
<linearGradient id="l_11" gradientUnits="userSpaceOnUse" x1="173.7" y1="-813.12" x2="364.7" y2="-813.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_11)" stroke="black" points="364.7,-854.62 173.7,-854.62 173.7,-771.62 364.7,-771.62 364.7,-854.62"/>
<text text-anchor="middle" x="269.2" y="-839.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="269.2" y="-824.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="269.2" y="-809.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.2mb</text>
<text text-anchor="middle" x="269.2" y="-794.42" font-family="Times,serif" font-size="14.00">running total: 10.99mb</text>
<text text-anchor="middle" x="269.2" y="-779.42" font-family="Times,serif" font-size="14.00">EXPOSE map[80/tcp:{}]</text>
</a>
</g>
</g>
<!-- cust&#45;ceebefd264f7ce5f319fb15cdeca0007&#45;&gt;cust&#45;d5c08b69e15dfcde93ce0ecd5d5bbf05 -->
<g id="edge5" class="edge">
<title>cust&#45;ceebefd264f7ce5f319fb15cdeca0007&#45;&gt;cust&#45;d5c08b69e15dfcde93ce0ecd5d5bbf05</title>
<path fill="none" stroke="black" d="M269.2,-890.53C269.2,-882.27 269.2,-873.48 269.2,-864.92"/>
<polygon fill="black" stroke="black" points="272.7,-864.64 269.2,-854.64 265.7,-864.64 272.7,-864.64"/>
</g>
<!-- cust&#45;aeb3bc0149ff32cb15860db3591aa8ac -->
<g id="node13" class="node">
<title>cust&#45;aeb3bc0149ff32cb15860db3591aa8ac</title>
<g id="a_node13"><a xlink:title="STOPSIGNAL SIGQUIT">
<defs>
<linearGradient id="l_12" gradientUnits="userSpaceOnUse" x1="178.2" y1="-694.12" x2="360.2" y2="-694.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_12)" stroke="black" points="360.2,-735.62 178.2,-735.62 178.2,-652.62 360.2,-652.62 360.2,-735.62"/>
<text text-anchor="middle" x="269.2" y="-720.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="269.2" y="-705.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="269.2" y="-690.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.2mb</text>
<text text-anchor="middle" x="269.2" y="-675.42" font-family="Times,serif" font-size="14.00">running total: 10.99mb</text>
<text text-anchor="middle" x="269.2" y="-660.42" font-family="Times,serif" font-size="14.00">STOPSIGNAL SIGQUIT</text>
</a>
</g>
</g>
<!-- cust&#45;d5c08b69e15dfcde93ce0ecd5d5bbf05&#45;&gt;cust&#45;aeb3bc0149ff32cb15860db3591aa8ac -->
<g id="edge4" class="edge">
<title>cust&#45;d5c08b69e15dfcde93ce0ecd5d5bbf05&#45;&gt;cust&#45;aeb3bc0149ff32cb15860db3591aa8ac</title>
<path fill="none" stroke="black" d="M269.2,-771.53C269.2,-763.27 269.2,-754.48 269.2,-745.92"/>
<polygon fill="black" stroke="black" points="272.7,-745.64 269.2,-735.64 265.7,-745.64 272.7,-745.64"/>
</g>
<!-- cust&#45;aa93ff69efb9a9037b6e3e507c6632b4 -->
<g id="node14" class="node">
<title>cust&#45;aa93ff69efb9a9037b6e3e507c6632b4</title>
<g id="a_node14"><a xlink:title="CMD [&quot;nginx&quot; &quot;&#45;g&quot; &quot;daemon off;&quot;]">
<defs>
<linearGradient id="l_13" gradientUnits="userSpaceOnUse" x1="142.2" y1="-575.12" x2="396.2" y2="-575.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_13)" stroke="black" points="396.2,-616.62 142.2,-616.62 142.2,-533.62 396.2,-533.62 396.2,-616.62"/>
<text text-anchor="middle" x="269.2" y="-601.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="269.2" y="-586.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="269.2" y="-571.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.2mb</text>
<text text-anchor="middle" x="269.2" y="-556.42" font-family="Times,serif" font-size="14.00">running total: 10.99mb</text>
<text text-anchor="middle" x="269.2" y="-541.42" font-family="Times,serif" font-size="14.00">CMD [&quot;nginx&quot; &quot;&#45;g&quot; &quot;daemon off;&quot;]</text>
</a>
</g>
</g>
<!-- cust&#45;aeb3bc0149ff32cb15860db3591aa8ac&#45;&gt;cust&#45;aa93ff69efb9a9037b6e3e507c6632b4 -->
<g id="edge3" class="edge">
<title>cust&#45;aeb3bc0149ff32cb15860db3591aa8ac&#45;&gt;cust&#45;aa93ff69efb9a9037b6e3e507c6632b4</title>
<path fill="none" stroke="black" d="M269.2,-652.53C269.2,-644.27 269.2,-635.48 269.2,-626.92"/>
<polygon fill="black" stroke="black" points="272.7,-626.64 269.2,-616.64 265.7,-626.64 272.7,-626.64"/>
</g>
<!-- cust&#45;2a6ffa40079e494cc3420f6e4bf97371 -->
<g id="node15" class="node">
<title>cust&#45;2a6ffa40079e494cc3420f6e4bf97371</title>
<g id="a_node15"><a xlink:title="ENV NJS_VERSION=0.7.12">
<defs>
<linearGradient id="l_14" gradientUnits="userSpaceOnUse" x1="162.7" y1="-456.12" x2="375.7" y2="-456.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_14)" stroke="black" points="375.7,-497.62 162.7,-497.62 162.7,-414.62 375.7,-414.62 375.7,-497.62"/>
<text text-anchor="middle" x="269.2" y="-482.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="269.2" y="-467.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="269.2" y="-452.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.2mb</text>
<text text-anchor="middle" x="269.2" y="-437.42" font-family="Times,serif" font-size="14.00">running total: 10.99mb</text>
<text text-anchor="middle" x="269.2" y="-422.42" font-family="Times,serif" font-size="14.00">ENV NJS_VERSION=0.7.12</text>
</a>
</g>
</g>
<!-- cust&#45;aa93ff69efb9a9037b6e3e507c6632b4&#45;&gt;cust&#45;2a6ffa40079e494cc3420f6e4bf97371 -->
<g id="edge2" class="edge">
<title>cust&#45;aa93ff69efb9a9037b6e3e507c6632b4&#45;&gt;cust&#45;2a6ffa40079e494cc3420f6e4bf97371</title>
<path fill="none" stroke="black" d="M269.2,-533.53C269.2,-525.27 269.2,-516.48 269.2,-507.92"/>
<polygon fill="black" stroke="black" points="272.7,-507.64 269.2,-497.64 265.7,-507.64 272.7,-507.64"/>
</g>
<!-- cust&#45;b2fba34117b09244ae3a1104056a5242 -->
<g id="node16" class="node">
<title>cust&#45;b2fba34117b09244ae3a1104056a5242</title>
<g id="a_node16"><a xlink:title="RUN /bin/sh &#45;c set &#45;x &#160;&#160;&#160;&#160;&amp;&amp; apkArch=&quot;$(cat /etc/apk/arch)&quot; &#160;&#160;&#160;&#160;&amp;&amp; nginxPackages=&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nginx=${NGINX_VERSION}&#45;r${PKG_RELEASE} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nginx&#45;module&#45;xslt=${NGINX_VERSION}&#45;r${PKG_RELEASE} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nginx&#45;module&#45;geoip=${NGINX_VERSION}&#45;r${PKG_RELEASE} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nginx&#45;module&#45;image&#45;filter=${NGINX_VERSION}&#45;r${PKG_RELEASE} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nginx&#45;module&#45;njs=${NGINX_VERSION}.${NJS_VERSION}&#45;r${PKG_RELEASE} &#160;&#160;&#160;&#160;&quot; &#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache &#45;&#45;virtual .checksum&#45;deps &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;openssl &#160;&#160;&#160;&#160;&amp;&amp; case &quot;$apkArch&quot; in &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;x86_64|aarch64) &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set &#45;x &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; KEY_SHA512=&quot;e09fa32f0a0eab2b879ccbbc4d0e4fb9751486eedda75e35fac65802cc9faa266425edf83e261137a2f4d16281ce2c1a5f4502930fe75154723da014214f0655&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; wget &#45;O /tmp/nginx_signing.rsa.pub https://nginx.org/keys/nginx_signing.rsa.pub &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; if echo &quot;$KEY_SHA512 */tmp/nginx_signing.rsa.pub&quot; | sha512sum &#45;c &#45;; then &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;key verification succeeded!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;mv /tmp/nginx_signing.rsa.pub /etc/apk/keys/; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;key verification failed!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;exit 1; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;fi &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;X &quot;https://nginx.org/packages/alpine/v$(egrep &#45;o &#39;^[0&#45;9]+.[0&#45;9]+&#39; /etc/alpine&#45;release)/main&quot; &#45;&#45;no&#45;cache $nginxPackages &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;*) &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set &#45;x &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; tempDir=&quot;$(mktemp &#45;d)&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; chown nobody:nobody $tempDir &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache &#45;&#45;virtual .build&#45;deps &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;gcc &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;libc&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;make &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;openssl&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;pcre2&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;zlib&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;linux&#45;headers &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;libxslt&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;gd&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;geoip&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;libedit&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;bash &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;alpine&#45;sdk &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findutils &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; su nobody &#45;s /bin/sh &#45;c &quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;export HOME=${tempDir} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cd ${tempDir} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; curl &#45;f &#45;O https://hg.nginx.org/pkg&#45;oss/archive/${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; PKGOSSCHECKSUM=&quot;dc47dbaeb1c0874b264d34ddfec40e7d2b814e7db48d144e12d5991c743ef5fcf780ecbab72324e562dd84bb9c0e4dd71d14850b20ceaf470c46f8fe7510275b *${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; if [ &quot;$(openssl sha512 &#45;r ${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz)&quot; = &quot;$PKGOSSCHECKSUM&quot; ]; then &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;pkg&#45;oss tarball checksum verification succeeded!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;pkg&#45;oss tarball checksum verification failed!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;exit 1; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;fi &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; tar xzvf ${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cd pkg&#45;oss&#45;${NGINX_VERSION}&#45;${PKG_RELEASE} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cd alpine &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; make module&#45;geoip module&#45;image&#45;filter module&#45;njs module&#45;xslt &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk index &#45;o ${tempDir}/packages/alpine/${apkArch}/APKINDEX.tar.gz ${tempDir}/packages/alpine/${apkArch}/*.apk &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; abuild&#45;sign &#45;k ${tempDir}/.abuild/abuild&#45;key.rsa ${tempDir}/packages/alpine/${apkArch}/APKINDEX.tar.gz &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cp ${tempDir}/.abuild/abuild&#45;key.rsa.pub /etc/apk/keys/ &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk del .build&#45;deps &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;X ${tempDir}/packages/alpine/ &#45;&#45;no&#45;cache $nginxPackages &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;;; &#160;&#160;&#160;&#160;esac &#160;&#160;&#160;&#160;&amp;&amp; apk del .checksum&#45;deps &#160;&#160;&#160;&#160;&amp;&amp; if [ &#45;n &quot;$tempDir&quot; ]; then rm &#45;rf &quot;$tempDir&quot;; fi &#160;&#160;&#160;&#160;&amp;&amp; if [ &#45;n &quot;/etc/apk/keys/abuild&#45;key.rsa.pub&quot; ]; then rm &#45;f /etc/apk/keys/abuild&#45;key.rsa.pub; fi &#160;&#160;&#160;&#160;&amp;&amp; if [ &#45;n &quot;/etc/apk/keys/nginx_signing.rsa.pub&quot; ]; then rm &#45;f /etc/apk/keys/nginx_signing.rsa.pub; fi &#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache curl ca&#45;certificates # buildkit">
<defs>
<linearGradient id="l_15" gradientUnits="userSpaceOnUse" x1="-0.2" y1="-301.16" x2="538.61" y2="-301.16" >
<stop offset="0.719" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.720" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_15)" stroke="black" points="538.61,-319.48 269.2,-378.78 -0.2,-319.48 102.7,-223.54 435.7,-223.54 538.61,-319.48"/>
<text text-anchor="middle" x="269.2" y="-326.77" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.7197196003750695</text>
<text text-anchor="middle" x="269.2" y="-311.77" font-family="Times,serif" font-size="14.00">layer size: 28.21mb</text>
<text text-anchor="middle" x="269.2" y="-296.77" font-family="Times,serif" font-size="14.00">subtotal size: 39.2mb</text>
<text text-anchor="middle" x="269.2" y="-281.77" font-family="Times,serif" font-size="14.00">running total: 39.2mb</text>
<text text-anchor="middle" x="269.2" y="-266.77" font-family="Times,serif" font-size="14.00">tags: 1.24.0&#45;alpine</text>
<text text-anchor="middle" x="269.2" y="-251.77" font-family="Times,serif" font-size="14.00">RUN /bin/sh &#45;c set &#45;x &#160;&#160;&#160;&#160;&amp;&amp; apkArch=&quot;$(</text>
</a>
</g>
</g>
<!-- cust&#45;2a6ffa40079e494cc3420f6e4bf97371&#45;&gt;cust&#45;b2fba34117b09244ae3a1104056a5242 -->
<g id="edge1" class="edge">
<title>cust&#45;2a6ffa40079e494cc3420f6e4bf97371&#45;&gt;cust&#45;b2fba34117b09244ae3a1104056a5242</title>
<path fill="none" stroke="black" d="M269.2,-414.45C269.2,-406.46 269.2,-397.76 269.2,-388.83"/>
<polygon fill="black" stroke="black" points="272.7,-388.66 269.2,-378.66 265.7,-388.66 272.7,-388.66"/>
</g>
<!-- cust&#45;4043593ed2263037a1f88f2cf9c49075 -->
<g id="node17" class="node">
<title>cust&#45;4043593ed2263037a1f88f2cf9c49075</title>
<g id="a_node17"><a xlink:title="/bin/sh &#45;c #(nop) ADD file:9a4f77dfaba7fd2aa78186e4ef0e7486ad55101cefc1fabbc1b385601bb38920 in / ">
<defs>
<linearGradient id="l_16" gradientUnits="userSpaceOnUse" x1="661.7" y1="-2122.12" x2="966.7" y2="-2122.12" >
<stop offset="0.169" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.170" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_16)" stroke="black" points="966.7,-2163.62 661.7,-2163.62 661.7,-2080.62 966.7,-2080.62 966.7,-2163.62"/>
<text text-anchor="middle" x="814.2" y="-2148.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.17026797088608192</text>
<text text-anchor="middle" x="814.2" y="-2133.42" font-family="Times,serif" font-size="14.00">layer size: 6.72mb</text>
<text text-anchor="middle" x="814.2" y="-2118.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.49mb</text>
<text text-anchor="middle" x="814.2" y="-2103.42" font-family="Times,serif" font-size="14.00">running total: 6.72mb</text>
<text text-anchor="middle" x="814.2" y="-2088.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) ADD file:9a4f77dfaba7f</text>
</a>
</g>
</g>
<!-- cust&#45;8084460852dc537fba202662fc717296 -->
<g id="node18" class="node">
<title>cust&#45;8084460852dc537fba202662fc717296</title>
<g id="a_node18"><a xlink:title="/bin/sh &#45;c #(nop) &#160;CMD [&quot;/bin/sh&quot;]">
<defs>
<linearGradient id="l_17" gradientUnits="userSpaceOnUse" x1="686.2" y1="-2003.12" x2="942.2" y2="-2003.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_17)" stroke="black" points="942.2,-2044.62 686.2,-2044.62 686.2,-1961.62 942.2,-1961.62 942.2,-2044.62"/>
<text text-anchor="middle" x="814.2" y="-2029.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="814.2" y="-2014.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="814.2" y="-1999.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.49mb</text>
<text text-anchor="middle" x="814.2" y="-1984.42" font-family="Times,serif" font-size="14.00">running total: 6.72mb</text>
<text text-anchor="middle" x="814.2" y="-1969.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) &#160;CMD [&quot;/bin/sh&quot;]</text>
</a>
</g>
</g>
<!-- cust&#45;4043593ed2263037a1f88f2cf9c49075&#45;&gt;cust&#45;8084460852dc537fba202662fc717296 -->
<g id="edge30" class="edge">
<title>cust&#45;4043593ed2263037a1f88f2cf9c49075&#45;&gt;cust&#45;8084460852dc537fba202662fc717296</title>
<path fill="none" stroke="black" d="M814.2,-2080.53C814.2,-2072.27 814.2,-2063.48 814.2,-2054.92"/>
<polygon fill="black" stroke="black" points="817.7,-2054.64 814.2,-2044.64 810.7,-2054.64 817.7,-2054.64"/>
</g>
<!-- cust&#45;5d002a41f843ce0e809ac7bed7cf68dd -->
<g id="node19" class="node">
<title>cust&#45;5d002a41f843ce0e809ac7bed7cf68dd</title>
<g id="a_node19"><a xlink:title="/bin/sh &#45;c #(nop) &#160;LABEL maintainer=NGINX Docker Maintainers &lt;docker&#45;maint@nginx.com&gt;">
<defs>
<linearGradient id="l_18" gradientUnits="userSpaceOnUse" x1="650.7" y1="-1884.12" x2="977.7" y2="-1884.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_18)" stroke="black" points="977.7,-1925.62 650.7,-1925.62 650.7,-1842.62 977.7,-1842.62 977.7,-1925.62"/>
<text text-anchor="middle" x="814.2" y="-1910.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="814.2" y="-1895.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="814.2" y="-1880.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.49mb</text>
<text text-anchor="middle" x="814.2" y="-1865.42" font-family="Times,serif" font-size="14.00">running total: 6.72mb</text>
<text text-anchor="middle" x="814.2" y="-1850.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) &#160;LABEL maintainer=NGIN</text>
</a>
</g>
</g>
<!-- cust&#45;8084460852dc537fba202662fc717296&#45;&gt;cust&#45;5d002a41f843ce0e809ac7bed7cf68dd -->
<g id="edge29" class="edge">
<title>cust&#45;8084460852dc537fba202662fc717296&#45;&gt;cust&#45;5d002a41f843ce0e809ac7bed7cf68dd</title>
<path fill="none" stroke="black" d="M814.2,-1961.53C814.2,-1953.27 814.2,-1944.48 814.2,-1935.92"/>
<polygon fill="black" stroke="black" points="817.7,-1935.64 814.2,-1925.64 810.7,-1935.64 817.7,-1935.64"/>
</g>
<!-- cust&#45;ac44119fedb98df68ef4e47fe0cf143f -->
<g id="node20" class="node">
<title>cust&#45;ac44119fedb98df68ef4e47fe0cf143f</title>
<g id="a_node20"><a xlink:title="/bin/sh &#45;c #(nop) &#160;ENV NGINX_VERSION=1.25.0">
<defs>
<linearGradient id="l_19" gradientUnits="userSpaceOnUse" x1="643.7" y1="-1765.12" x2="984.7" y2="-1765.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_19)" stroke="black" points="984.7,-1806.62 643.7,-1806.62 643.7,-1723.62 984.7,-1723.62 984.7,-1806.62"/>
<text text-anchor="middle" x="814.2" y="-1791.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="814.2" y="-1776.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="814.2" y="-1761.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.49mb</text>
<text text-anchor="middle" x="814.2" y="-1746.42" font-family="Times,serif" font-size="14.00">running total: 6.72mb</text>
<text text-anchor="middle" x="814.2" y="-1731.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) &#160;ENV NGINX_VERSION=1.2</text>
</a>
</g>
</g>
<!-- cust&#45;5d002a41f843ce0e809ac7bed7cf68dd&#45;&gt;cust&#45;ac44119fedb98df68ef4e47fe0cf143f -->
<g id="edge28" class="edge">
<title>cust&#45;5d002a41f843ce0e809ac7bed7cf68dd&#45;&gt;cust&#45;ac44119fedb98df68ef4e47fe0cf143f</title>
<path fill="none" stroke="black" d="M814.2,-1842.53C814.2,-1834.27 814.2,-1825.48 814.2,-1816.92"/>
<polygon fill="black" stroke="black" points="817.7,-1816.64 814.2,-1806.64 810.7,-1816.64 817.7,-1816.64"/>
</g>
<!-- cust&#45;1729898adce78d6f96e0551e1dd0d2d9 -->
<g id="node21" class="node">
<title>cust&#45;1729898adce78d6f96e0551e1dd0d2d9</title>
<g id="a_node21"><a xlink:title="/bin/sh &#45;c #(nop) &#160;ENV PKG_RELEASE=1">
<defs>
<linearGradient id="l_20" gradientUnits="userSpaceOnUse" x1="659.2" y1="-1646.12" x2="969.2" y2="-1646.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_20)" stroke="black" points="969.2,-1687.62 659.2,-1687.62 659.2,-1604.62 969.2,-1604.62 969.2,-1687.62"/>
<text text-anchor="middle" x="814.2" y="-1672.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="814.2" y="-1657.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="814.2" y="-1642.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.49mb</text>
<text text-anchor="middle" x="814.2" y="-1627.42" font-family="Times,serif" font-size="14.00">running total: 6.72mb</text>
<text text-anchor="middle" x="814.2" y="-1612.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) &#160;ENV PKG_RELEASE=1</text>
</a>
</g>
</g>
<!-- cust&#45;ac44119fedb98df68ef4e47fe0cf143f&#45;&gt;cust&#45;1729898adce78d6f96e0551e1dd0d2d9 -->
<g id="edge27" class="edge">
<title>cust&#45;ac44119fedb98df68ef4e47fe0cf143f&#45;&gt;cust&#45;1729898adce78d6f96e0551e1dd0d2d9</title>
<path fill="none" stroke="black" d="M814.2,-1723.53C814.2,-1715.27 814.2,-1706.48 814.2,-1697.92"/>
<polygon fill="black" stroke="black" points="817.7,-1697.64 814.2,-1687.64 810.7,-1697.64 817.7,-1697.64"/>
</g>
<!-- cust&#45;4bea7ce4cb1a9157b4fcc7744efb98e7 -->
<g id="node22" class="node">
<title>cust&#45;4bea7ce4cb1a9157b4fcc7744efb98e7</title>
<g id="a_node22"><a xlink:title="/bin/sh &#45;c set &#45;x &#160;&#160;&#160;&#160;&amp;&amp; addgroup &#45;g 101 &#45;S nginx &#160;&#160;&#160;&#160;&amp;&amp; adduser &#45;S &#45;D &#45;H &#45;u 101 &#45;h /var/cache/nginx &#45;s /sbin/nologin &#45;G nginx &#45;g nginx nginx &#160;&#160;&#160;&#160;&amp;&amp; apkArch=&quot;$(cat /etc/apk/arch)&quot; &#160;&#160;&#160;&#160;&amp;&amp; nginxPackages=&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nginx=${NGINX_VERSION}&#45;r${PKG_RELEASE} &#160;&#160;&#160;&#160;&quot; &#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache &#45;&#45;virtual .checksum&#45;deps &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;openssl &#160;&#160;&#160;&#160;&amp;&amp; case &quot;$apkArch&quot; in &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;x86_64|aarch64) &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set &#45;x &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; KEY_SHA512=&quot;e09fa32f0a0eab2b879ccbbc4d0e4fb9751486eedda75e35fac65802cc9faa266425edf83e261137a2f4d16281ce2c1a5f4502930fe75154723da014214f0655&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; wget &#45;O /tmp/nginx_signing.rsa.pub https://nginx.org/keys/nginx_signing.rsa.pub &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; if echo &quot;$KEY_SHA512 */tmp/nginx_signing.rsa.pub&quot; | sha512sum &#45;c &#45;; then &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;key verification succeeded!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;mv /tmp/nginx_signing.rsa.pub /etc/apk/keys/; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;key verification failed!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;exit 1; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;fi &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;X &quot;https://nginx.org/packages/mainline/alpine/v$(egrep &#45;o &#39;^[0&#45;9]+.[0&#45;9]+&#39; /etc/alpine&#45;release)/main&quot; &#45;&#45;no&#45;cache $nginxPackages &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;*) &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set &#45;x &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; tempDir=&quot;$(mktemp &#45;d)&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; chown nobody:nobody $tempDir &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache &#45;&#45;virtual .build&#45;deps &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;gcc &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;libc&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;make &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;openssl&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;pcre2&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;zlib&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;linux&#45;headers &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;bash &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;alpine&#45;sdk &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findutils &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; su nobody &#45;s /bin/sh &#45;c &quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;export HOME=${tempDir} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cd ${tempDir} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; curl &#45;f &#45;O https://hg.nginx.org/pkg&#45;oss/archive/${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; PKGOSSCHECKSUM=&quot;18bee4bd498e0b8da765e8cd2d824e1027d40fd95d55fd59339cdb5d5e0e633795f4196c76045e86027cdfc6ab05a3cc0d39b25bd0a967f1edd47910d813262a *${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; if [ &quot;$(openssl sha512 &#45;r ${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz)&quot; = &quot;$PKGOSSCHECKSUM&quot; ]; then &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;pkg&#45;oss tarball checksum verification succeeded!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;pkg&#45;oss tarball checksum verification failed!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;exit 1; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;fi &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; tar xzvf ${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cd pkg&#45;oss&#45;${NGINX_VERSION}&#45;${PKG_RELEASE} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cd alpine &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; make base &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk index &#45;o ${tempDir}/packages/alpine/${apkArch}/APKINDEX.tar.gz ${tempDir}/packages/alpine/${apkArch}/*.apk &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; abuild&#45;sign &#45;k ${tempDir}/.abuild/abuild&#45;key.rsa ${tempDir}/packages/alpine/${apkArch}/APKINDEX.tar.gz &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cp ${tempDir}/.abuild/abuild&#45;key.rsa.pub /etc/apk/keys/ &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk del .build&#45;deps &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;X ${tempDir}/packages/alpine/ &#45;&#45;no&#45;cache $nginxPackages &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;;; &#160;&#160;&#160;&#160;esac &#160;&#160;&#160;&#160;&amp;&amp; apk del .checksum&#45;deps &#160;&#160;&#160;&#160;&amp;&amp; if [ &#45;n &quot;$tempDir&quot; ]; then rm &#45;rf &quot;$tempDir&quot;; fi &#160;&#160;&#160;&#160;&amp;&amp; if [ &#45;n &quot;/etc/apk/keys/abuild&#45;key.rsa.pub&quot; ]; then rm &#45;f /etc/apk/keys/abuild&#45;key.rsa.pub; fi &#160;&#160;&#160;&#160;&amp;&amp; if [ &#45;n &quot;/etc/apk/keys/nginx_signing.rsa.pub&quot; ]; then rm &#45;f /etc/apk/keys/nginx_signing.rsa.pub; fi &#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache &#45;&#45;virtual .gettext gettext &#160;&#160;&#160;&#160;&amp;&amp; mv /usr/bin/envsubst /tmp/ &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; runDeps=&quot;$( &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;scanelf &#45;&#45;needed &#45;&#45;nobanner /tmp/envsubst &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;| awk &#39;{ gsub(/,/, &quot;&#10;so:&quot;, $2); print &quot;so:&quot; $2 }&#39; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;| sort &#45;u &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;| xargs &#45;r apk info &#45;&#45;installed &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;| sort &#45;u &#160;&#160;&#160;&#160;)&quot; &#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache $runDeps &#160;&#160;&#160;&#160;&amp;&amp; apk del .gettext &#160;&#160;&#160;&#160;&amp;&amp; mv /tmp/envsubst /usr/local/bin/ &#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache tzdata &#160;&#160;&#160;&#160;&amp;&amp; ln &#45;sf /dev/stdout /var/log/nginx/access.log &#160;&#160;&#160;&#160;&amp;&amp; ln &#45;sf /dev/stderr /var/log/nginx/error.log &#160;&#160;&#160;&#160;&amp;&amp; mkdir /docker&#45;entrypoint.d">
<defs>
<linearGradient id="l_21" gradientUnits="userSpaceOnUse" x1="666.7" y1="-1527.12" x2="961.7" y2="-1527.12" >
<stop offset="0.114" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.115" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_21)" stroke="black" points="961.7,-1568.62 666.7,-1568.62 666.7,-1485.62 961.7,-1485.62 961.7,-1568.62"/>
<text text-anchor="middle" x="814.2" y="-1553.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.11469275652954039</text>
<text text-anchor="middle" x="814.2" y="-1538.42" font-family="Times,serif" font-size="14.00">layer size: 4.53mb</text>
<text text-anchor="middle" x="814.2" y="-1523.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.49mb</text>
<text text-anchor="middle" x="814.2" y="-1508.42" font-family="Times,serif" font-size="14.00">running total: 11.25mb</text>
<text text-anchor="middle" x="814.2" y="-1493.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c set &#45;x &#160;&#160;&#160;&#160;&amp;&amp; addgroup &#45;g 101</text>
</a>
</g>
</g>
<!-- cust&#45;1729898adce78d6f96e0551e1dd0d2d9&#45;&gt;cust&#45;4bea7ce4cb1a9157b4fcc7744efb98e7 -->
<g id="edge26" class="edge">
<title>cust&#45;1729898adce78d6f96e0551e1dd0d2d9&#45;&gt;cust&#45;4bea7ce4cb1a9157b4fcc7744efb98e7</title>
<path fill="none" stroke="black" d="M814.2,-1604.53C814.2,-1596.27 814.2,-1587.48 814.2,-1578.92"/>
<polygon fill="black" stroke="black" points="817.7,-1578.64 814.2,-1568.64 810.7,-1578.64 817.7,-1578.64"/>
</g>
<!-- cust&#45;6e2036255fbd72d3f4d63c606510b9e4 -->
<g id="node23" class="node">
<title>cust&#45;6e2036255fbd72d3f4d63c606510b9e4</title>
<g id="a_node23"><a xlink:title="/bin/sh &#45;c #(nop) COPY file:7b307b62e82255f040c9812421a30090bf9abf3685f27b02d77fcca99f997911 in / ">
<defs>
<linearGradient id="l_22" gradientUnits="userSpaceOnUse" x1="655.7" y1="-1408.12" x2="972.7" y2="-1408.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_22)" stroke="black" points="972.7,-1449.62 655.7,-1449.62 655.7,-1366.62 972.7,-1366.62 972.7,-1449.62"/>
<text text-anchor="middle" x="814.2" y="-1434.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 3.903045546923315e&#45;05</text>
<text text-anchor="middle" x="814.2" y="-1419.42" font-family="Times,serif" font-size="14.00">layer size: 1.58kb</text>
<text text-anchor="middle" x="814.2" y="-1404.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.49mb</text>
<text text-anchor="middle" x="814.2" y="-1389.42" font-family="Times,serif" font-size="14.00">running total: 11.25mb</text>
<text text-anchor="middle" x="814.2" y="-1374.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) COPY file:7b307b62e822</text>
</a>
</g>
</g>
<!-- cust&#45;4bea7ce4cb1a9157b4fcc7744efb98e7&#45;&gt;cust&#45;6e2036255fbd72d3f4d63c606510b9e4 -->
<g id="edge25" class="edge">
<title>cust&#45;4bea7ce4cb1a9157b4fcc7744efb98e7&#45;&gt;cust&#45;6e2036255fbd72d3f4d63c606510b9e4</title>
<path fill="none" stroke="black" d="M814.2,-1485.53C814.2,-1477.27 814.2,-1468.48 814.2,-1459.92"/>
<polygon fill="black" stroke="black" points="817.7,-1459.64 814.2,-1449.64 810.7,-1459.64 817.7,-1459.64"/>
</g>
<!-- cust&#45;ad781dd61ef1160eb04157c267451ae2 -->
<g id="node24" class="node">
<title>cust&#45;ad781dd61ef1160eb04157c267451ae2</title>
<g id="a_node24"><a xlink:title="/bin/sh &#45;c #(nop) COPY file:5c18272734349488bd0c94ec8d382c872c1a0a435cca13bd4671353d6021d2cb in /docker&#45;entrypoint.d ">
<defs>
<linearGradient id="l_23" gradientUnits="userSpaceOnUse" x1="655.7" y1="-1289.12" x2="972.7" y2="-1289.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_23)" stroke="black" points="972.7,-1330.62 655.7,-1330.62 655.7,-1247.62 972.7,-1247.62 972.7,-1330.62"/>
<text text-anchor="middle" x="814.2" y="-1315.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 5.127577782251359e&#45;05</text>
<text text-anchor="middle" x="814.2" y="-1300.42" font-family="Times,serif" font-size="14.00">layer size: 2.07kb</text>
<text text-anchor="middle" x="814.2" y="-1285.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.49mb</text>
<text text-anchor="middle" x="814.2" y="-1270.42" font-family="Times,serif" font-size="14.00">running total: 11.26mb</text>
<text text-anchor="middle" x="814.2" y="-1255.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) COPY file:5c1827273434</text>
</a>
</g>
</g>
<!-- cust&#45;6e2036255fbd72d3f4d63c606510b9e4&#45;&gt;cust&#45;ad781dd61ef1160eb04157c267451ae2 -->
<g id="edge24" class="edge">
<title>cust&#45;6e2036255fbd72d3f4d63c606510b9e4&#45;&gt;cust&#45;ad781dd61ef1160eb04157c267451ae2</title>
<path fill="none" stroke="black" d="M814.2,-1366.53C814.2,-1358.27 814.2,-1349.48 814.2,-1340.92"/>
<polygon fill="black" stroke="black" points="817.7,-1340.64 814.2,-1330.64 810.7,-1340.64 817.7,-1340.64"/>
</g>
<!-- cust&#45;c062cb4da407b226ac5af15c26df8263 -->
<g id="node25" class="node">
<title>cust&#45;c062cb4da407b226ac5af15c26df8263</title>
<g id="a_node25"><a xlink:title="/bin/sh &#45;c #(nop) COPY file:36429cfeeb299f9913b84ea136b004be12fbe4bb4f975a977a3608044e8bfa91 in /docker&#45;entrypoint.d ">
<defs>
<linearGradient id="l_24" gradientUnits="userSpaceOnUse" x1="658.7" y1="-1170.12" x2="969.7" y2="-1170.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_24)" stroke="black" points="969.7,-1211.62 658.7,-1211.62 658.7,-1128.62 969.7,-1128.62 969.7,-1211.62"/>
<text text-anchor="middle" x="814.2" y="-1196.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 7.265074879421614e&#45;05</text>
<text text-anchor="middle" x="814.2" y="-1181.42" font-family="Times,serif" font-size="14.00">layer size: 2.94kb</text>
<text text-anchor="middle" x="814.2" y="-1166.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.49mb</text>
<text text-anchor="middle" x="814.2" y="-1151.42" font-family="Times,serif" font-size="14.00">running total: 11.26mb</text>
<text text-anchor="middle" x="814.2" y="-1136.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) COPY file:36429cfeeb29</text>
</a>
</g>
</g>
<!-- cust&#45;ad781dd61ef1160eb04157c267451ae2&#45;&gt;cust&#45;c062cb4da407b226ac5af15c26df8263 -->
<g id="edge23" class="edge">
<title>cust&#45;ad781dd61ef1160eb04157c267451ae2&#45;&gt;cust&#45;c062cb4da407b226ac5af15c26df8263</title>
<path fill="none" stroke="black" d="M814.2,-1247.53C814.2,-1239.27 814.2,-1230.48 814.2,-1221.92"/>
<polygon fill="black" stroke="black" points="817.7,-1221.64 814.2,-1211.64 810.7,-1221.64 817.7,-1221.64"/>
</g>
<!-- cust&#45;3967147140324318cd9d6589621d7c5d -->
<g id="node26" class="node">
<title>cust&#45;3967147140324318cd9d6589621d7c5d</title>
<g id="a_node26"><a xlink:title="/bin/sh &#45;c #(nop) COPY file:e57eef017a414ca793499729d80a7b9075790c9a804f930f1417e56d506970cf in /docker&#45;entrypoint.d ">
<defs>
<linearGradient id="l_25" gradientUnits="userSpaceOnUse" x1="656.2" y1="-1051.12" x2="972.2" y2="-1051.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_25)" stroke="black" points="972.2,-1092.62 656.2,-1092.62 656.2,-1009.62 972.2,-1009.62 972.2,-1092.62"/>
<text text-anchor="middle" x="814.2" y="-1077.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.00011160874673473166</text>
<text text-anchor="middle" x="814.2" y="-1062.42" font-family="Times,serif" font-size="14.00">layer size: 4.51kb</text>
<text text-anchor="middle" x="814.2" y="-1047.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.49mb</text>
<text text-anchor="middle" x="814.2" y="-1032.42" font-family="Times,serif" font-size="14.00">running total: 11.26mb</text>
<text text-anchor="middle" x="814.2" y="-1017.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) COPY file:e57eef017a41</text>
</a>
</g>
</g>
<!-- cust&#45;c062cb4da407b226ac5af15c26df8263&#45;&gt;cust&#45;3967147140324318cd9d6589621d7c5d -->
<g id="edge22" class="edge">
<title>cust&#45;c062cb4da407b226ac5af15c26df8263&#45;&gt;cust&#45;3967147140324318cd9d6589621d7c5d</title>
<path fill="none" stroke="black" d="M814.2,-1128.53C814.2,-1120.27 814.2,-1111.48 814.2,-1102.92"/>
<polygon fill="black" stroke="black" points="817.7,-1102.64 814.2,-1092.64 810.7,-1102.64 817.7,-1102.64"/>
</g>
<!-- cust&#45;4a52a2d38d16761c74294181dad27c90 -->
<g id="node27" class="node">
<title>cust&#45;4a52a2d38d16761c74294181dad27c90</title>
<g id="a_node27"><a xlink:title="/bin/sh &#45;c #(nop) &#160;ENTRYPOINT [&quot;/docker&#45;entrypoint.sh&quot;]">
<defs>
<linearGradient id="l_26" gradientUnits="userSpaceOnUse" x1="657.2" y1="-932.12" x2="971.2" y2="-932.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_26)" stroke="black" points="971.2,-973.62 657.2,-973.62 657.2,-890.62 971.2,-890.62 971.2,-973.62"/>
<text text-anchor="middle" x="814.2" y="-958.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="814.2" y="-943.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="814.2" y="-928.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.49mb</text>
<text text-anchor="middle" x="814.2" y="-913.42" font-family="Times,serif" font-size="14.00">running total: 11.26mb</text>
<text text-anchor="middle" x="814.2" y="-898.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) &#160;ENTRYPOINT [&quot;/docker&#45;</text>
</a>
</g>
</g>
<!-- cust&#45;3967147140324318cd9d6589621d7c5d&#45;&gt;cust&#45;4a52a2d38d16761c74294181dad27c90 -->
<g id="edge21" class="edge">
<title>cust&#45;3967147140324318cd9d6589621d7c5d&#45;&gt;cust&#45;4a52a2d38d16761c74294181dad27c90</title>
<path fill="none" stroke="black" d="M814.2,-1009.53C814.2,-1001.27 814.2,-992.48 814.2,-983.92"/>
<polygon fill="black" stroke="black" points="817.7,-983.64 814.2,-973.64 810.7,-983.64 817.7,-983.64"/>
</g>
<!-- cust&#45;bb456e0630257e9555cd3de946d64a5a -->
<g id="node28" class="node">
<title>cust&#45;bb456e0630257e9555cd3de946d64a5a</title>
<g id="a_node28"><a xlink:title="/bin/sh &#45;c #(nop) &#160;EXPOSE 80">
<defs>
<linearGradient id="l_27" gradientUnits="userSpaceOnUse" x1="700.7" y1="-813.12" x2="927.7" y2="-813.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_27)" stroke="black" points="927.7,-854.62 700.7,-854.62 700.7,-771.62 927.7,-771.62 927.7,-854.62"/>
<text text-anchor="middle" x="814.2" y="-839.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="814.2" y="-824.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="814.2" y="-809.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.49mb</text>
<text text-anchor="middle" x="814.2" y="-794.42" font-family="Times,serif" font-size="14.00">running total: 11.26mb</text>
<text text-anchor="middle" x="814.2" y="-779.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) &#160;EXPOSE 80</text>
</a>
</g>
</g>
<!-- cust&#45;4a52a2d38d16761c74294181dad27c90&#45;&gt;cust&#45;bb456e0630257e9555cd3de946d64a5a -->
<g id="edge20" class="edge">
<title>cust&#45;4a52a2d38d16761c74294181dad27c90&#45;&gt;cust&#45;bb456e0630257e9555cd3de946d64a5a</title>
<path fill="none" stroke="black" d="M814.2,-890.53C814.2,-882.27 814.2,-873.48 814.2,-864.92"/>
<polygon fill="black" stroke="black" points="817.7,-864.64 814.2,-854.64 810.7,-864.64 817.7,-864.64"/>
</g>
<!-- cust&#45;060fd9fe5b059ede8790cf5ca2d608aa -->
<g id="node29" class="node">
<title>cust&#45;060fd9fe5b059ede8790cf5ca2d608aa</title>
<g id="a_node29"><a xlink:title="/bin/sh &#45;c #(nop) &#160;STOPSIGNAL SIGQUIT">
<defs>
<linearGradient id="l_28" gradientUnits="userSpaceOnUse" x1="660.2" y1="-694.12" x2="968.2" y2="-694.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_28)" stroke="black" points="968.2,-735.62 660.2,-735.62 660.2,-652.62 968.2,-652.62 968.2,-735.62"/>
<text text-anchor="middle" x="814.2" y="-720.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="814.2" y="-705.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="814.2" y="-690.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.49mb</text>
<text text-anchor="middle" x="814.2" y="-675.42" font-family="Times,serif" font-size="14.00">running total: 11.26mb</text>
<text text-anchor="middle" x="814.2" y="-660.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) &#160;STOPSIGNAL SIGQUIT</text>
</a>
</g>
</g>
<!-- cust&#45;bb456e0630257e9555cd3de946d64a5a&#45;&gt;cust&#45;060fd9fe5b059ede8790cf5ca2d608aa -->
<g id="edge19" class="edge">
<title>cust&#45;bb456e0630257e9555cd3de946d64a5a&#45;&gt;cust&#45;060fd9fe5b059ede8790cf5ca2d608aa</title>
<path fill="none" stroke="black" d="M814.2,-771.53C814.2,-763.27 814.2,-754.48 814.2,-745.92"/>
<polygon fill="black" stroke="black" points="817.7,-745.64 814.2,-735.64 810.7,-745.64 817.7,-745.64"/>
</g>
<!-- cust&#45;947aa687335bd8a2ee9bf6f19948f530 -->
<g id="node30" class="node">
<title>cust&#45;947aa687335bd8a2ee9bf6f19948f530</title>
<g id="a_node30"><a xlink:title="/bin/sh &#45;c #(nop) &#160;CMD [&quot;nginx&quot; &quot;&#45;g&quot; &quot;daemon off;&quot;]">
<defs>
<linearGradient id="l_29" gradientUnits="userSpaceOnUse" x1="663.2" y1="-575.12" x2="965.2" y2="-575.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_29)" stroke="black" points="965.2,-616.62 663.2,-616.62 663.2,-533.62 965.2,-533.62 965.2,-616.62"/>
<text text-anchor="middle" x="814.2" y="-601.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="814.2" y="-586.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="814.2" y="-571.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.49mb</text>
<text text-anchor="middle" x="814.2" y="-556.42" font-family="Times,serif" font-size="14.00">running total: 11.26mb</text>
<text text-anchor="middle" x="814.2" y="-541.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) &#160;CMD [&quot;nginx&quot; &quot;&#45;g&quot; &quot;da</text>
</a>
</g>
</g>
<!-- cust&#45;060fd9fe5b059ede8790cf5ca2d608aa&#45;&gt;cust&#45;947aa687335bd8a2ee9bf6f19948f530 -->
<g id="edge18" class="edge">
<title>cust&#45;060fd9fe5b059ede8790cf5ca2d608aa&#45;&gt;cust&#45;947aa687335bd8a2ee9bf6f19948f530</title>
<path fill="none" stroke="black" d="M814.2,-652.53C814.2,-644.27 814.2,-635.48 814.2,-626.92"/>
<polygon fill="black" stroke="black" points="817.7,-626.64 814.2,-616.64 810.7,-626.64 817.7,-626.64"/>
</g>
<!-- cust&#45;6ddee9c30869b865b7b91b804599ebc7 -->
<g id="node31" class="node">
<title>cust&#45;6ddee9c30869b865b7b91b804599ebc7</title>
<g id="a_node31"><a xlink:title="/bin/sh &#45;c #(nop) &#160;ENV NJS_VERSION=0.7.12">
<defs>
<linearGradient id="l_30" gradientUnits="userSpaceOnUse" x1="648.7" y1="-456.12" x2="979.7" y2="-456.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_30)" stroke="black" points="979.7,-497.62 648.7,-497.62 648.7,-414.62 979.7,-414.62 979.7,-497.62"/>
<text text-anchor="middle" x="814.2" y="-482.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="814.2" y="-467.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="814.2" y="-452.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.49mb</text>
<text text-anchor="middle" x="814.2" y="-437.42" font-family="Times,serif" font-size="14.00">running total: 11.26mb</text>
<text text-anchor="middle" x="814.2" y="-422.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) &#160;ENV NJS_VERSION=0.7.1</text>
</a>
</g>
</g>
<!-- cust&#45;947aa687335bd8a2ee9bf6f19948f530&#45;&gt;cust&#45;6ddee9c30869b865b7b91b804599ebc7 -->
<g id="edge17" class="edge">
<title>cust&#45;947aa687335bd8a2ee9bf6f19948f530&#45;&gt;cust&#45;6ddee9c30869b865b7b91b804599ebc7</title>
<path fill="none" stroke="black" d="M814.2,-533.53C814.2,-525.27 814.2,-516.48 814.2,-507.92"/>
<polygon fill="black" stroke="black" points="817.7,-507.64 814.2,-497.64 810.7,-507.64 817.7,-507.64"/>
</g>
<!-- cust&#45;434f429de2042d15fcb42244260d3d63 -->
<g id="node32" class="node">
<title>cust&#45;434f429de2042d15fcb42244260d3d63</title>
<g id="a_node32"><a xlink:title="/bin/sh &#45;c set &#45;x &#160;&#160;&#160;&#160;&amp;&amp; apkArch=&quot;$(cat /etc/apk/arch)&quot; &#160;&#160;&#160;&#160;&amp;&amp; nginxPackages=&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nginx=${NGINX_VERSION}&#45;r${PKG_RELEASE} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nginx&#45;module&#45;xslt=${NGINX_VERSION}&#45;r${PKG_RELEASE} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nginx&#45;module&#45;geoip=${NGINX_VERSION}&#45;r${PKG_RELEASE} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nginx&#45;module&#45;image&#45;filter=${NGINX_VERSION}&#45;r${PKG_RELEASE} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nginx&#45;module&#45;njs=${NGINX_VERSION}.${NJS_VERSION}&#45;r${PKG_RELEASE} &#160;&#160;&#160;&#160;&quot; &#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache &#45;&#45;virtual .checksum&#45;deps &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;openssl &#160;&#160;&#160;&#160;&amp;&amp; case &quot;$apkArch&quot; in &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;x86_64|aarch64) &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set &#45;x &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; KEY_SHA512=&quot;e09fa32f0a0eab2b879ccbbc4d0e4fb9751486eedda75e35fac65802cc9faa266425edf83e261137a2f4d16281ce2c1a5f4502930fe75154723da014214f0655&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; wget &#45;O /tmp/nginx_signing.rsa.pub https://nginx.org/keys/nginx_signing.rsa.pub &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; if echo &quot;$KEY_SHA512 */tmp/nginx_signing.rsa.pub&quot; | sha512sum &#45;c &#45;; then &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;key verification succeeded!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;mv /tmp/nginx_signing.rsa.pub /etc/apk/keys/; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;key verification failed!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;exit 1; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;fi &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;X &quot;https://nginx.org/packages/mainline/alpine/v$(egrep &#45;o &#39;^[0&#45;9]+.[0&#45;9]+&#39; /etc/alpine&#45;release)/main&quot; &#45;&#45;no&#45;cache $nginxPackages &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;*) &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set &#45;x &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; tempDir=&quot;$(mktemp &#45;d)&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; chown nobody:nobody $tempDir &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache &#45;&#45;virtual .build&#45;deps &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;gcc &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;libc&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;make &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;openssl&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;pcre2&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;zlib&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;linux&#45;headers &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;libxslt&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;gd&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;geoip&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;libedit&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;bash &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;alpine&#45;sdk &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findutils &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; su nobody &#45;s /bin/sh &#45;c &quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;export HOME=${tempDir} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cd ${tempDir} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; curl &#45;f &#45;O https://hg.nginx.org/pkg&#45;oss/archive/${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; PKGOSSCHECKSUM=&quot;18bee4bd498e0b8da765e8cd2d824e1027d40fd95d55fd59339cdb5d5e0e633795f4196c76045e86027cdfc6ab05a3cc0d39b25bd0a967f1edd47910d813262a *${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; if [ &quot;$(openssl sha512 &#45;r ${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz)&quot; = &quot;$PKGOSSCHECKSUM&quot; ]; then &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;pkg&#45;oss tarball checksum verification succeeded!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;pkg&#45;oss tarball checksum verification failed!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;exit 1; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;fi &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; tar xzvf ${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cd pkg&#45;oss&#45;${NGINX_VERSION}&#45;${PKG_RELEASE} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cd alpine &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; make module&#45;geoip module&#45;image&#45;filter module&#45;njs module&#45;xslt &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk index &#45;o ${tempDir}/packages/alpine/${apkArch}/APKINDEX.tar.gz ${tempDir}/packages/alpine/${apkArch}/*.apk &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; abuild&#45;sign &#45;k ${tempDir}/.abuild/abuild&#45;key.rsa ${tempDir}/packages/alpine/${apkArch}/APKINDEX.tar.gz &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cp ${tempDir}/.abuild/abuild&#45;key.rsa.pub /etc/apk/keys/ &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk del .build&#45;deps &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;X ${tempDir}/packages/alpine/ &#45;&#45;no&#45;cache $nginxPackages &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;;; &#160;&#160;&#160;&#160;esac &#160;&#160;&#160;&#160;&amp;&amp; apk del .checksum&#45;deps &#160;&#160;&#160;&#160;&amp;&amp; if [ &#45;n &quot;$tempDir&quot; ]; then rm &#45;rf &quot;$tempDir&quot;; fi &#160;&#160;&#160;&#160;&amp;&amp; if [ &#45;n &quot;/etc/apk/keys/abuild&#45;key.rsa.pub&quot; ]; then rm &#45;f /etc/apk/keys/abuild&#45;key.rsa.pub; fi &#160;&#160;&#160;&#160;&amp;&amp; if [ &#45;n &quot;/etc/apk/keys/nginx_signing.rsa.pub&quot; ]; then rm &#45;f /etc/apk/keys/nginx_signing.rsa.pub; fi &#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache curl ca&#45;certificates">
<defs>
<linearGradient id="l_31" gradientUnits="userSpaceOnUse" x1="556.52" y1="-301.16" x2="1071.88" y2="-301.16" >
<stop offset="0.714" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.715" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_31)" stroke="black" points="1071.88,-319.48 814.2,-378.78 556.52,-319.48 654.95,-223.54 973.46,-223.54 1071.88,-319.48"/>
<text text-anchor="middle" x="814.2" y="-326.77" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.714764706855557</text>
<text text-anchor="middle" x="814.2" y="-311.77" font-family="Times,serif" font-size="14.00">layer size: 28.22mb</text>
<text text-anchor="middle" x="814.2" y="-296.77" font-family="Times,serif" font-size="14.00">subtotal size: 39.49mb</text>
<text text-anchor="middle" x="814.2" y="-281.77" font-family="Times,serif" font-size="14.00">running total: 39.49mb</text>
<text text-anchor="middle" x="814.2" y="-266.77" font-family="Times,serif" font-size="14.00">tags: 1.25.0&#45;alpine</text>
<text text-anchor="middle" x="814.2" y="-251.77" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c set &#45;x &#160;&#160;&#160;&#160;&amp;&amp; apkArch=&quot;$(cat </text>
</a>
</g>
</g>
<!-- cust&#45;6ddee9c30869b865b7b91b804599ebc7&#45;&gt;cust&#45;434f429de2042d15fcb42244260d3d63 -->
<g id="edge16" class="edge">
<title>cust&#45;6ddee9c30869b865b7b91b804599ebc7&#45;&gt;cust&#45;434f429de2042d15fcb42244260d3d63</title>
<path fill="none" stroke="black" d="M814.2,-414.45C814.2,-406.46 814.2,-397.76 814.2,-388.83"/>
<polygon fill="black" stroke="black" points="817.7,-388.66 814.2,-378.66 810.7,-388.66 817.7,-388.66"/>
</g>
<!-- cust&#45;fbdf721120a135ba6770a28ec864852c -->
<g id="node33" class="node">
<title>cust&#45;fbdf721120a135ba6770a28ec864852c</title>
<g id="a_node33"><a xlink:title="/bin/sh &#45;c #(nop) ADD file:6dd87346b8be240b21b4f4d9296253bf0d28b6579aa52d2118872e3936963b6b in / ">
<defs>
<linearGradient id="l_32" gradientUnits="userSpaceOnUse" x1="1096.2" y1="-2122.12" x2="1414.2" y2="-2122.12" >
<stop offset="0.169" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.170" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_32)" stroke="black" points="1414.2,-2163.62 1096.2,-2163.62 1096.2,-2080.62 1414.2,-2080.62 1414.2,-2163.62"/>
<text text-anchor="middle" x="1255.2" y="-2148.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.17049258724993413</text>
<text text-anchor="middle" x="1255.2" y="-2133.42" font-family="Times,serif" font-size="14.00">layer size: 6.73mb</text>
<text text-anchor="middle" x="1255.2" y="-2118.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.48mb</text>
<text text-anchor="middle" x="1255.2" y="-2103.42" font-family="Times,serif" font-size="14.00">running total: 6.73mb</text>
<text text-anchor="middle" x="1255.2" y="-2088.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) ADD file:6dd87346b8be2</text>
</a>
</g>
</g>
<!-- cust&#45;d1551fa6e59259ed9e0cb10083180009 -->
<g id="node34" class="node">
<title>cust&#45;d1551fa6e59259ed9e0cb10083180009</title>
<g id="a_node34"><a xlink:title="/bin/sh &#45;c #(nop) &#160;CMD [&quot;/bin/sh&quot;]">
<defs>
<linearGradient id="l_33" gradientUnits="userSpaceOnUse" x1="1127.2" y1="-2003.12" x2="1383.2" y2="-2003.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_33)" stroke="black" points="1383.2,-2044.62 1127.2,-2044.62 1127.2,-1961.62 1383.2,-1961.62 1383.2,-2044.62"/>
<text text-anchor="middle" x="1255.2" y="-2029.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="1255.2" y="-2014.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="1255.2" y="-1999.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.48mb</text>
<text text-anchor="middle" x="1255.2" y="-1984.42" font-family="Times,serif" font-size="14.00">running total: 6.73mb</text>
<text text-anchor="middle" x="1255.2" y="-1969.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) &#160;CMD [&quot;/bin/sh&quot;]</text>
</a>
</g>
</g>
<!-- cust&#45;fbdf721120a135ba6770a28ec864852c&#45;&gt;cust&#45;d1551fa6e59259ed9e0cb10083180009 -->
<g id="edge46" class="edge">
<title>cust&#45;fbdf721120a135ba6770a28ec864852c&#45;&gt;cust&#45;d1551fa6e59259ed9e0cb10083180009</title>
<path fill="none" stroke="black" d="M1255.2,-2080.53C1255.2,-2072.27 1255.2,-2063.48 1255.2,-2054.92"/>
<polygon fill="black" stroke="black" points="1258.7,-2054.64 1255.2,-2044.64 1251.7,-2054.64 1258.7,-2054.64"/>
</g>
<!-- cust&#45;dc9861d0ba8e07f96f5d0516c47b96aa -->
<g id="node35" class="node">
<title>cust&#45;dc9861d0ba8e07f96f5d0516c47b96aa</title>
<g id="a_node35"><a xlink:title="/bin/sh &#45;c #(nop) &#160;LABEL maintainer=NGINX Docker Maintainers &lt;docker&#45;maint@nginx.com&gt;">
<defs>
<linearGradient id="l_34" gradientUnits="userSpaceOnUse" x1="1091.7" y1="-1884.12" x2="1418.7" y2="-1884.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_34)" stroke="black" points="1418.7,-1925.62 1091.7,-1925.62 1091.7,-1842.62 1418.7,-1842.62 1418.7,-1925.62"/>
<text text-anchor="middle" x="1255.2" y="-1910.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="1255.2" y="-1895.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="1255.2" y="-1880.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.48mb</text>
<text text-anchor="middle" x="1255.2" y="-1865.42" font-family="Times,serif" font-size="14.00">running total: 6.73mb</text>
<text text-anchor="middle" x="1255.2" y="-1850.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) &#160;LABEL maintainer=NGIN</text>
</a>
</g>
</g>
<!-- cust&#45;d1551fa6e59259ed9e0cb10083180009&#45;&gt;cust&#45;dc9861d0ba8e07f96f5d0516c47b96aa -->
<g id="edge45" class="edge">
<title>cust&#45;d1551fa6e59259ed9e0cb10083180009&#45;&gt;cust&#45;dc9861d0ba8e07f96f5d0516c47b96aa</title>
<path fill="none" stroke="black" d="M1255.2,-1961.53C1255.2,-1953.27 1255.2,-1944.48 1255.2,-1935.92"/>
<polygon fill="black" stroke="black" points="1258.7,-1935.64 1255.2,-1925.64 1251.7,-1935.64 1258.7,-1935.64"/>
</g>
<!-- cust&#45;aca3d2398af4388a2730474bbd3a0068 -->
<g id="node36" class="node">
<title>cust&#45;aca3d2398af4388a2730474bbd3a0068</title>
<g id="a_node36"><a xlink:title="/bin/sh &#45;c #(nop) &#160;ENV NGINX_VERSION=1.25.1">
<defs>
<linearGradient id="l_35" gradientUnits="userSpaceOnUse" x1="1084.7" y1="-1765.12" x2="1425.7" y2="-1765.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_35)" stroke="black" points="1425.7,-1806.62 1084.7,-1806.62 1084.7,-1723.62 1425.7,-1723.62 1425.7,-1806.62"/>
<text text-anchor="middle" x="1255.2" y="-1791.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="1255.2" y="-1776.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="1255.2" y="-1761.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.48mb</text>
<text text-anchor="middle" x="1255.2" y="-1746.42" font-family="Times,serif" font-size="14.00">running total: 6.73mb</text>
<text text-anchor="middle" x="1255.2" y="-1731.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) &#160;ENV NGINX_VERSION=1.2</text>
</a>
</g>
</g>
<!-- cust&#45;dc9861d0ba8e07f96f5d0516c47b96aa&#45;&gt;cust&#45;aca3d2398af4388a2730474bbd3a0068 -->
<g id="edge44" class="edge">
<title>cust&#45;dc9861d0ba8e07f96f5d0516c47b96aa&#45;&gt;cust&#45;aca3d2398af4388a2730474bbd3a0068</title>
<path fill="none" stroke="black" d="M1255.2,-1842.53C1255.2,-1834.27 1255.2,-1825.48 1255.2,-1816.92"/>
<polygon fill="black" stroke="black" points="1258.7,-1816.64 1255.2,-1806.64 1251.7,-1816.64 1258.7,-1816.64"/>
</g>
<!-- cust&#45;6043d51d4990dfdf0eb0ab0dcf1360a4 -->
<g id="node37" class="node">
<title>cust&#45;6043d51d4990dfdf0eb0ab0dcf1360a4</title>
<g id="a_node37"><a xlink:title="/bin/sh &#45;c #(nop) &#160;ENV PKG_RELEASE=1">
<defs>
<linearGradient id="l_36" gradientUnits="userSpaceOnUse" x1="1100.2" y1="-1646.12" x2="1410.2" y2="-1646.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_36)" stroke="black" points="1410.2,-1687.62 1100.2,-1687.62 1100.2,-1604.62 1410.2,-1604.62 1410.2,-1687.62"/>
<text text-anchor="middle" x="1255.2" y="-1672.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="1255.2" y="-1657.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="1255.2" y="-1642.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.48mb</text>
<text text-anchor="middle" x="1255.2" y="-1627.42" font-family="Times,serif" font-size="14.00">running total: 6.73mb</text>
<text text-anchor="middle" x="1255.2" y="-1612.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) &#160;ENV PKG_RELEASE=1</text>
</a>
</g>
</g>
<!-- cust&#45;aca3d2398af4388a2730474bbd3a0068&#45;&gt;cust&#45;6043d51d4990dfdf0eb0ab0dcf1360a4 -->
<g id="edge43" class="edge">
<title>cust&#45;aca3d2398af4388a2730474bbd3a0068&#45;&gt;cust&#45;6043d51d4990dfdf0eb0ab0dcf1360a4</title>
<path fill="none" stroke="black" d="M1255.2,-1723.53C1255.2,-1715.27 1255.2,-1706.48 1255.2,-1697.92"/>
<polygon fill="black" stroke="black" points="1258.7,-1697.64 1255.2,-1687.64 1251.7,-1697.64 1258.7,-1697.64"/>
</g>
<!-- cust&#45;44c5f9d57fe2b389e0f208068432019b -->
<g id="node38" class="node">
<title>cust&#45;44c5f9d57fe2b389e0f208068432019b</title>
<g id="a_node38"><a xlink:title="/bin/sh &#45;c set &#45;x &#160;&#160;&#160;&#160;&amp;&amp; addgroup &#45;g 101 &#45;S nginx &#160;&#160;&#160;&#160;&amp;&amp; adduser &#45;S &#45;D &#45;H &#45;u 101 &#45;h /var/cache/nginx &#45;s /sbin/nologin &#45;G nginx &#45;g nginx nginx &#160;&#160;&#160;&#160;&amp;&amp; apkArch=&quot;$(cat /etc/apk/arch)&quot; &#160;&#160;&#160;&#160;&amp;&amp; nginxPackages=&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nginx=${NGINX_VERSION}&#45;r${PKG_RELEASE} &#160;&#160;&#160;&#160;&quot; &#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache &#45;&#45;virtual .checksum&#45;deps &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;openssl &#160;&#160;&#160;&#160;&amp;&amp; case &quot;$apkArch&quot; in &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;x86_64|aarch64) &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set &#45;x &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; KEY_SHA512=&quot;e09fa32f0a0eab2b879ccbbc4d0e4fb9751486eedda75e35fac65802cc9faa266425edf83e261137a2f4d16281ce2c1a5f4502930fe75154723da014214f0655&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; wget &#45;O /tmp/nginx_signing.rsa.pub https://nginx.org/keys/nginx_signing.rsa.pub &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; if echo &quot;$KEY_SHA512 */tmp/nginx_signing.rsa.pub&quot; | sha512sum &#45;c &#45;; then &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;key verification succeeded!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;mv /tmp/nginx_signing.rsa.pub /etc/apk/keys/; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;key verification failed!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;exit 1; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;fi &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;X &quot;https://nginx.org/packages/mainline/alpine/v$(egrep &#45;o &#39;^[0&#45;9]+.[0&#45;9]+&#39; /etc/alpine&#45;release)/main&quot; &#45;&#45;no&#45;cache $nginxPackages &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;*) &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set &#45;x &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; tempDir=&quot;$(mktemp &#45;d)&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; chown nobody:nobody $tempDir &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache &#45;&#45;virtual .build&#45;deps &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;gcc &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;libc&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;make &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;openssl&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;pcre2&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;zlib&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;linux&#45;headers &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;bash &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;alpine&#45;sdk &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findutils &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; su nobody &#45;s /bin/sh &#45;c &quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;export HOME=${tempDir} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cd ${tempDir} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; curl &#45;f &#45;O https://hg.nginx.org/pkg&#45;oss/archive/${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; PKGOSSCHECKSUM=&quot;dd08a5c2b441817d58ffc91ade0d927a21bc9854c768391e92a005997a2961bcda64ca6a5cfce98d5394ac2787c8f4839b150f206835a8a7db944625651f9fd8 *${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; if [ &quot;$(openssl sha512 &#45;r ${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz)&quot; = &quot;$PKGOSSCHECKSUM&quot; ]; then &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;pkg&#45;oss tarball checksum verification succeeded!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;pkg&#45;oss tarball checksum verification failed!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;exit 1; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;fi &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; tar xzvf ${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cd pkg&#45;oss&#45;${NGINX_VERSION}&#45;${PKG_RELEASE} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cd alpine &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; make base &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk index &#45;o ${tempDir}/packages/alpine/${apkArch}/APKINDEX.tar.gz ${tempDir}/packages/alpine/${apkArch}/*.apk &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; abuild&#45;sign &#45;k ${tempDir}/.abuild/abuild&#45;key.rsa ${tempDir}/packages/alpine/${apkArch}/APKINDEX.tar.gz &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cp ${tempDir}/.abuild/abuild&#45;key.rsa.pub /etc/apk/keys/ &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk del &#45;&#45;no&#45;network .build&#45;deps &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;X ${tempDir}/packages/alpine/ &#45;&#45;no&#45;cache $nginxPackages &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;;; &#160;&#160;&#160;&#160;esac &#160;&#160;&#160;&#160;&amp;&amp; apk del &#45;&#45;no&#45;network .checksum&#45;deps &#160;&#160;&#160;&#160;&amp;&amp; if [ &#45;n &quot;$tempDir&quot; ]; then rm &#45;rf &quot;$tempDir&quot;; fi &#160;&#160;&#160;&#160;&amp;&amp; if [ &#45;n &quot;/etc/apk/keys/abuild&#45;key.rsa.pub&quot; ]; then rm &#45;f /etc/apk/keys/abuild&#45;key.rsa.pub; fi &#160;&#160;&#160;&#160;&amp;&amp; if [ &#45;n &quot;/etc/apk/keys/nginx_signing.rsa.pub&quot; ]; then rm &#45;f /etc/apk/keys/nginx_signing.rsa.pub; fi &#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache &#45;&#45;virtual .gettext gettext &#160;&#160;&#160;&#160;&amp;&amp; mv /usr/bin/envsubst /tmp/ &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; runDeps=&quot;$( &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;scanelf &#45;&#45;needed &#45;&#45;nobanner /tmp/envsubst &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;| awk &#39;{ gsub(/,/, &quot;&#10;so:&quot;, $2); print &quot;so:&quot; $2 }&#39; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;| sort &#45;u &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;| xargs &#45;r apk info &#45;&#45;installed &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;| sort &#45;u &#160;&#160;&#160;&#160;)&quot; &#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache $runDeps &#160;&#160;&#160;&#160;&amp;&amp; apk del &#45;&#45;no&#45;network .gettext &#160;&#160;&#160;&#160;&amp;&amp; mv /tmp/envsubst /usr/local/bin/ &#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache tzdata &#160;&#160;&#160;&#160;&amp;&amp; ln &#45;sf /dev/stdout /var/log/nginx/access.log &#160;&#160;&#160;&#160;&amp;&amp; ln &#45;sf /dev/stderr /var/log/nginx/error.log &#160;&#160;&#160;&#160;&amp;&amp; mkdir /docker&#45;entrypoint.d">
<defs>
<linearGradient id="l_37" gradientUnits="userSpaceOnUse" x1="1107.7" y1="-1527.12" x2="1402.7" y2="-1527.12" >
<stop offset="0.113" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.114" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_37)" stroke="black" points="1402.7,-1568.62 1107.7,-1568.62 1107.7,-1485.62 1402.7,-1485.62 1402.7,-1568.62"/>
<text text-anchor="middle" x="1255.2" y="-1553.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.11438350305947155</text>
<text text-anchor="middle" x="1255.2" y="-1538.42" font-family="Times,serif" font-size="14.00">layer size: 4.52mb</text>
<text text-anchor="middle" x="1255.2" y="-1523.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.48mb</text>
<text text-anchor="middle" x="1255.2" y="-1508.42" font-family="Times,serif" font-size="14.00">running total: 11.25mb</text>
<text text-anchor="middle" x="1255.2" y="-1493.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c set &#45;x &#160;&#160;&#160;&#160;&amp;&amp; addgroup &#45;g 101</text>
</a>
</g>
</g>
<!-- cust&#45;6043d51d4990dfdf0eb0ab0dcf1360a4&#45;&gt;cust&#45;44c5f9d57fe2b389e0f208068432019b -->
<g id="edge42" class="edge">
<title>cust&#45;6043d51d4990dfdf0eb0ab0dcf1360a4&#45;&gt;cust&#45;44c5f9d57fe2b389e0f208068432019b</title>
<path fill="none" stroke="black" d="M1255.2,-1604.53C1255.2,-1596.27 1255.2,-1587.48 1255.2,-1578.92"/>
<polygon fill="black" stroke="black" points="1258.7,-1578.64 1255.2,-1568.64 1251.7,-1578.64 1258.7,-1578.64"/>
</g>
<!-- cust&#45;775359ad91e68a2aac0fd03231cb79f9 -->
<g id="node39" class="node">
<title>cust&#45;775359ad91e68a2aac0fd03231cb79f9</title>
<g id="a_node39"><a xlink:title="/bin/sh &#45;c #(nop) COPY file:7b307b62e82255f040c9812421a30090bf9abf3685f27b02d77fcca99f997911 in / ">
<defs>
<linearGradient id="l_38" gradientUnits="userSpaceOnUse" x1="1096.7" y1="-1408.12" x2="1413.7" y2="-1408.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_38)" stroke="black" points="1413.7,-1449.62 1096.7,-1449.62 1096.7,-1366.62 1413.7,-1366.62 1413.7,-1449.62"/>
<text text-anchor="middle" x="1255.2" y="-1434.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 3.903462446070442e&#45;05</text>
<text text-anchor="middle" x="1255.2" y="-1419.42" font-family="Times,serif" font-size="14.00">layer size: 1.58kb</text>
<text text-anchor="middle" x="1255.2" y="-1404.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.48mb</text>
<text text-anchor="middle" x="1255.2" y="-1389.42" font-family="Times,serif" font-size="14.00">running total: 11.25mb</text>
<text text-anchor="middle" x="1255.2" y="-1374.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) COPY file:7b307b62e822</text>
</a>
</g>
</g>
<!-- cust&#45;44c5f9d57fe2b389e0f208068432019b&#45;&gt;cust&#45;775359ad91e68a2aac0fd03231cb79f9 -->
<g id="edge41" class="edge">
<title>cust&#45;44c5f9d57fe2b389e0f208068432019b&#45;&gt;cust&#45;775359ad91e68a2aac0fd03231cb79f9</title>
<path fill="none" stroke="black" d="M1255.2,-1485.53C1255.2,-1477.27 1255.2,-1468.48 1255.2,-1459.92"/>
<polygon fill="black" stroke="black" points="1258.7,-1459.64 1255.2,-1449.64 1251.7,-1459.64 1258.7,-1459.64"/>
</g>
<!-- cust&#45;f71da73ee0c109eb40e6ff87be23fa05 -->
<g id="node40" class="node">
<title>cust&#45;f71da73ee0c109eb40e6ff87be23fa05</title>
<g id="a_node40"><a xlink:title="/bin/sh &#45;c #(nop) COPY file:5c18272734349488bd0c94ec8d382c872c1a0a435cca13bd4671353d6021d2cb in /docker&#45;entrypoint.d ">
<defs>
<linearGradient id="l_39" gradientUnits="userSpaceOnUse" x1="1096.7" y1="-1289.12" x2="1413.7" y2="-1289.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_39)" stroke="black" points="1413.7,-1330.62 1096.7,-1330.62 1096.7,-1247.62 1413.7,-1247.62 1413.7,-1330.62"/>
<text text-anchor="middle" x="1255.2" y="-1315.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 5.128125478346255e&#45;05</text>
<text text-anchor="middle" x="1255.2" y="-1300.42" font-family="Times,serif" font-size="14.00">layer size: 2.07kb</text>
<text text-anchor="middle" x="1255.2" y="-1285.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.48mb</text>
<text text-anchor="middle" x="1255.2" y="-1270.42" font-family="Times,serif" font-size="14.00">running total: 11.25mb</text>
<text text-anchor="middle" x="1255.2" y="-1255.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) COPY file:5c1827273434</text>
</a>
</g>
</g>
<!-- cust&#45;775359ad91e68a2aac0fd03231cb79f9&#45;&gt;cust&#45;f71da73ee0c109eb40e6ff87be23fa05 -->
<g id="edge40" class="edge">
<title>cust&#45;775359ad91e68a2aac0fd03231cb79f9&#45;&gt;cust&#45;f71da73ee0c109eb40e6ff87be23fa05</title>
<path fill="none" stroke="black" d="M1255.2,-1366.53C1255.2,-1358.27 1255.2,-1349.48 1255.2,-1340.92"/>
<polygon fill="black" stroke="black" points="1258.7,-1340.64 1255.2,-1330.64 1251.7,-1340.64 1258.7,-1340.64"/>
</g>
<!-- cust&#45;2c62469d0386c138f7f82ea967e00b73 -->
<g id="node41" class="node">
<title>cust&#45;2c62469d0386c138f7f82ea967e00b73</title>
<g id="a_node41"><a xlink:title="/bin/sh &#45;c #(nop) COPY file:d4375883ed5db364232ccf781e8ad28514cd005edb385d43dbfb984f2c63edb9 in /docker&#45;entrypoint.d ">
<defs>
<linearGradient id="l_40" gradientUnits="userSpaceOnUse" x1="1096.7" y1="-1170.12" x2="1413.7" y2="-1170.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_40)" stroke="black" points="1413.7,-1211.62 1096.7,-1211.62 1096.7,-1128.62 1413.7,-1128.62 1413.7,-1211.62"/>
<text text-anchor="middle" x="1255.2" y="-1196.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 6.666804672744071e&#45;06</text>
<text text-anchor="middle" x="1255.2" y="-1181.42" font-family="Times,serif" font-size="14.00">layer size: 0.27kb</text>
<text text-anchor="middle" x="1255.2" y="-1166.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.48mb</text>
<text text-anchor="middle" x="1255.2" y="-1151.42" font-family="Times,serif" font-size="14.00">running total: 11.25mb</text>
<text text-anchor="middle" x="1255.2" y="-1136.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) COPY file:d4375883ed5d</text>
</a>
</g>
</g>
<!-- cust&#45;f71da73ee0c109eb40e6ff87be23fa05&#45;&gt;cust&#45;2c62469d0386c138f7f82ea967e00b73 -->
<g id="edge39" class="edge">
<title>cust&#45;f71da73ee0c109eb40e6ff87be23fa05&#45;&gt;cust&#45;2c62469d0386c138f7f82ea967e00b73</title>
<path fill="none" stroke="black" d="M1255.2,-1247.53C1255.2,-1239.27 1255.2,-1230.48 1255.2,-1221.92"/>
<polygon fill="black" stroke="black" points="1258.7,-1221.64 1255.2,-1211.64 1251.7,-1221.64 1258.7,-1221.64"/>
</g>
<!-- cust&#45;8c2c85f3cfcfce92c1f2de4238d61b17 -->
<g id="node42" class="node">
<title>cust&#45;8c2c85f3cfcfce92c1f2de4238d61b17</title>
<g id="a_node42"><a xlink:title="/bin/sh &#45;c #(nop) COPY file:36429cfeeb299f9913b84ea136b004be12fbe4bb4f975a977a3608044e8bfa91 in /docker&#45;entrypoint.d ">
<defs>
<linearGradient id="l_41" gradientUnits="userSpaceOnUse" x1="1099.7" y1="-1051.12" x2="1410.7" y2="-1051.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_41)" stroke="black" points="1410.7,-1092.62 1099.7,-1092.62 1099.7,-1009.62 1410.7,-1009.62 1410.7,-1092.62"/>
<text text-anchor="middle" x="1255.2" y="-1077.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 7.265850889715278e&#45;05</text>
<text text-anchor="middle" x="1255.2" y="-1062.42" font-family="Times,serif" font-size="14.00">layer size: 2.94kb</text>
<text text-anchor="middle" x="1255.2" y="-1047.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.48mb</text>
<text text-anchor="middle" x="1255.2" y="-1032.42" font-family="Times,serif" font-size="14.00">running total: 11.25mb</text>
<text text-anchor="middle" x="1255.2" y="-1017.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) COPY file:36429cfeeb29</text>
</a>
</g>
</g>
<!-- cust&#45;2c62469d0386c138f7f82ea967e00b73&#45;&gt;cust&#45;8c2c85f3cfcfce92c1f2de4238d61b17 -->
<g id="edge38" class="edge">
<title>cust&#45;2c62469d0386c138f7f82ea967e00b73&#45;&gt;cust&#45;8c2c85f3cfcfce92c1f2de4238d61b17</title>
<path fill="none" stroke="black" d="M1255.2,-1128.53C1255.2,-1120.27 1255.2,-1111.48 1255.2,-1102.92"/>
<polygon fill="black" stroke="black" points="1258.7,-1102.64 1255.2,-1092.64 1251.7,-1102.64 1258.7,-1102.64"/>
</g>
<!-- cust&#45;98489ef443f90e2de7d4143f8e7886b1 -->
<g id="node43" class="node">
<title>cust&#45;98489ef443f90e2de7d4143f8e7886b1</title>
<g id="a_node43"><a xlink:title="/bin/sh &#45;c #(nop) COPY file:e57eef017a414ca793499729d80a7b9075790c9a804f930f1417e56d506970cf in /docker&#45;entrypoint.d ">
<defs>
<linearGradient id="l_42" gradientUnits="userSpaceOnUse" x1="1099.7" y1="-932.12" x2="1410.7" y2="-932.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_42)" stroke="black" points="1410.7,-973.62 1099.7,-973.62 1099.7,-890.62 1410.7,-890.62 1410.7,-973.62"/>
<text text-anchor="middle" x="1255.2" y="-958.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0001116206680896752</text>
<text text-anchor="middle" x="1255.2" y="-943.42" font-family="Times,serif" font-size="14.00">layer size: 4.51kb</text>
<text text-anchor="middle" x="1255.2" y="-928.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.48mb</text>
<text text-anchor="middle" x="1255.2" y="-913.42" font-family="Times,serif" font-size="14.00">running total: 11.26mb</text>
<text text-anchor="middle" x="1255.2" y="-898.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) COPY file:e57eef017a41</text>
</a>
</g>
</g>
<!-- cust&#45;8c2c85f3cfcfce92c1f2de4238d61b17&#45;&gt;cust&#45;98489ef443f90e2de7d4143f8e7886b1 -->
<g id="edge37" class="edge">
<title>cust&#45;8c2c85f3cfcfce92c1f2de4238d61b17&#45;&gt;cust&#45;98489ef443f90e2de7d4143f8e7886b1</title>
<path fill="none" stroke="black" d="M1255.2,-1009.53C1255.2,-1001.27 1255.2,-992.48 1255.2,-983.92"/>
<polygon fill="black" stroke="black" points="1258.7,-983.64 1255.2,-973.64 1251.7,-983.64 1258.7,-983.64"/>
</g>
<!-- cust&#45;2f3d371bac1fbb64658458ce29c1c046 -->
<g id="node44" class="node">
<title>cust&#45;2f3d371bac1fbb64658458ce29c1c046</title>
<g id="a_node44"><a xlink:title="/bin/sh &#45;c #(nop) &#160;ENTRYPOINT [&quot;/docker&#45;entrypoint.sh&quot;]">
<defs>
<linearGradient id="l_43" gradientUnits="userSpaceOnUse" x1="1098.2" y1="-813.12" x2="1412.2" y2="-813.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_43)" stroke="black" points="1412.2,-854.62 1098.2,-854.62 1098.2,-771.62 1412.2,-771.62 1412.2,-854.62"/>
<text text-anchor="middle" x="1255.2" y="-839.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="1255.2" y="-824.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="1255.2" y="-809.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.48mb</text>
<text text-anchor="middle" x="1255.2" y="-794.42" font-family="Times,serif" font-size="14.00">running total: 11.26mb</text>
<text text-anchor="middle" x="1255.2" y="-779.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) &#160;ENTRYPOINT [&quot;/docker&#45;</text>
</a>
</g>
</g>
<!-- cust&#45;98489ef443f90e2de7d4143f8e7886b1&#45;&gt;cust&#45;2f3d371bac1fbb64658458ce29c1c046 -->
<g id="edge36" class="edge">
<title>cust&#45;98489ef443f90e2de7d4143f8e7886b1&#45;&gt;cust&#45;2f3d371bac1fbb64658458ce29c1c046</title>
<path fill="none" stroke="black" d="M1255.2,-890.53C1255.2,-882.27 1255.2,-873.48 1255.2,-864.92"/>
<polygon fill="black" stroke="black" points="1258.7,-864.64 1255.2,-854.64 1251.7,-864.64 1258.7,-864.64"/>
</g>
<!-- cust&#45;a4a981bb42e879148847a43f8b3aa269 -->
<g id="node45" class="node">
<title>cust&#45;a4a981bb42e879148847a43f8b3aa269</title>
<g id="a_node45"><a xlink:title="/bin/sh &#45;c #(nop) &#160;EXPOSE 80">
<defs>
<linearGradient id="l_44" gradientUnits="userSpaceOnUse" x1="1141.7" y1="-694.12" x2="1368.7" y2="-694.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_44)" stroke="black" points="1368.7,-735.62 1141.7,-735.62 1141.7,-652.62 1368.7,-652.62 1368.7,-735.62"/>
<text text-anchor="middle" x="1255.2" y="-720.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="1255.2" y="-705.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="1255.2" y="-690.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.48mb</text>
<text text-anchor="middle" x="1255.2" y="-675.42" font-family="Times,serif" font-size="14.00">running total: 11.26mb</text>
<text text-anchor="middle" x="1255.2" y="-660.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) &#160;EXPOSE 80</text>
</a>
</g>
</g>
<!-- cust&#45;2f3d371bac1fbb64658458ce29c1c046&#45;&gt;cust&#45;a4a981bb42e879148847a43f8b3aa269 -->
<g id="edge35" class="edge">
<title>cust&#45;2f3d371bac1fbb64658458ce29c1c046&#45;&gt;cust&#45;a4a981bb42e879148847a43f8b3aa269</title>
<path fill="none" stroke="black" d="M1255.2,-771.53C1255.2,-763.27 1255.2,-754.48 1255.2,-745.92"/>
<polygon fill="black" stroke="black" points="1258.7,-745.64 1255.2,-735.64 1251.7,-745.64 1258.7,-745.64"/>
</g>
<!-- cust&#45;a3cffa1d479737e0331db1ddd510ca39 -->
<g id="node46" class="node">
<title>cust&#45;a3cffa1d479737e0331db1ddd510ca39</title>
<g id="a_node46"><a xlink:title="/bin/sh &#45;c #(nop) &#160;STOPSIGNAL SIGQUIT">
<defs>
<linearGradient id="l_45" gradientUnits="userSpaceOnUse" x1="1101.2" y1="-575.12" x2="1409.2" y2="-575.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_45)" stroke="black" points="1409.2,-616.62 1101.2,-616.62 1101.2,-533.62 1409.2,-533.62 1409.2,-616.62"/>
<text text-anchor="middle" x="1255.2" y="-601.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="1255.2" y="-586.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="1255.2" y="-571.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.48mb</text>
<text text-anchor="middle" x="1255.2" y="-556.42" font-family="Times,serif" font-size="14.00">running total: 11.26mb</text>
<text text-anchor="middle" x="1255.2" y="-541.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) &#160;STOPSIGNAL SIGQUIT</text>
</a>
</g>
</g>
<!-- cust&#45;a4a981bb42e879148847a43f8b3aa269&#45;&gt;cust&#45;a3cffa1d479737e0331db1ddd510ca39 -->
<g id="edge34" class="edge">
<title>cust&#45;a4a981bb42e879148847a43f8b3aa269&#45;&gt;cust&#45;a3cffa1d479737e0331db1ddd510ca39</title>
<path fill="none" stroke="black" d="M1255.2,-652.53C1255.2,-644.27 1255.2,-635.48 1255.2,-626.92"/>
<polygon fill="black" stroke="black" points="1258.7,-626.64 1255.2,-616.64 1251.7,-626.64 1258.7,-626.64"/>
</g>
<!-- cust&#45;7aaeaaa24174780e7cd5b77900c677bf -->
<g id="node47" class="node">
<title>cust&#45;7aaeaaa24174780e7cd5b77900c677bf</title>
<g id="a_node47"><a xlink:title="/bin/sh &#45;c #(nop) &#160;CMD [&quot;nginx&quot; &quot;&#45;g&quot; &quot;daemon off;&quot;]">
<defs>
<linearGradient id="l_46" gradientUnits="userSpaceOnUse" x1="1104.2" y1="-456.12" x2="1406.2" y2="-456.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_46)" stroke="black" points="1406.2,-497.62 1104.2,-497.62 1104.2,-414.62 1406.2,-414.62 1406.2,-497.62"/>
<text text-anchor="middle" x="1255.2" y="-482.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="1255.2" y="-467.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="1255.2" y="-452.42" font-family="Times,serif" font-size="14.00">subtotal size: 39.48mb</text>
<text text-anchor="middle" x="1255.2" y="-437.42" font-family="Times,serif" font-size="14.00">running total: 11.26mb</text>
<text text-anchor="middle" x="1255.2" y="-422.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) &#160;CMD [&quot;nginx&quot; &quot;&#45;g&quot; &quot;da</text>
</a>
</g>
</g>
<!-- cust&#45;a3cffa1d479737e0331db1ddd510ca39&#45;&gt;cust&#45;7aaeaaa24174780e7cd5b77900c677bf -->
<g id="edge33" class="edge">
<title>cust&#45;a3cffa1d479737e0331db1ddd510ca39&#45;&gt;cust&#45;7aaeaaa24174780e7cd5b77900c677bf</title>
<path fill="none" stroke="black" d="M1255.2,-533.53C1255.2,-525.27 1255.2,-516.48 1255.2,-507.92"/>
<polygon fill="black" stroke="black" points="1258.7,-507.64 1255.2,-497.64 1251.7,-507.64 1258.7,-507.64"/>
</g>
<!-- cust&#45;a7f56ec51d59e48d0a2eb037c953f1df -->
<g id="node48" class="node">
<title>cust&#45;a7f56ec51d59e48d0a2eb037c953f1df</title>
<g id="a_node48"><a xlink:title="/bin/sh &#45;c #(nop) &#160;ENV NJS_VERSION=0.7.12">
<defs>
<linearGradient id="l_47" gradientUnits="userSpaceOnUse" x1="1089.7" y1="-292.97" x2="1420.7" y2="-292.97" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_47)" stroke="black" points="1420.7,-334.47 1089.7,-334.47 1089.7,-251.47 1420.7,-251.47 1420.7,-334.47"/>
<text text-anchor="middle" x="1255.2" y="-319.27" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="1255.2" y="-304.27" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="1255.2" y="-289.27" font-family="Times,serif" font-size="14.00">subtotal size: 39.48mb</text>
<text text-anchor="middle" x="1255.2" y="-274.27" font-family="Times,serif" font-size="14.00">running total: 11.26mb</text>
<text text-anchor="middle" x="1255.2" y="-259.27" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) &#160;ENV NJS_VERSION=0.7.1</text>
</a>
</g>
</g>
<!-- cust&#45;7aaeaaa24174780e7cd5b77900c677bf&#45;&gt;cust&#45;a7f56ec51d59e48d0a2eb037c953f1df -->
<g id="edge32" class="edge">
<title>cust&#45;7aaeaaa24174780e7cd5b77900c677bf&#45;&gt;cust&#45;a7f56ec51d59e48d0a2eb037c953f1df</title>
<path fill="none" stroke="black" d="M1255.2,-414.45C1255.2,-393.27 1255.2,-367.16 1255.2,-344.67"/>
<polygon fill="black" stroke="black" points="1258.7,-344.62 1255.2,-334.62 1251.7,-344.62 1258.7,-344.62"/>
</g>
<!-- cust&#45;ceb561fbc927dd6588c3318d519a3cee -->
<g id="node49" class="node">
<title>cust&#45;ceb561fbc927dd6588c3318d519a3cee</title>
<g id="a_node49"><a xlink:title="/bin/sh &#45;c set &#45;x &#160;&#160;&#160;&#160;&amp;&amp; apkArch=&quot;$(cat /etc/apk/arch)&quot; &#160;&#160;&#160;&#160;&amp;&amp; nginxPackages=&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nginx=${NGINX_VERSION}&#45;r${PKG_RELEASE} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nginx&#45;module&#45;xslt=${NGINX_VERSION}&#45;r${PKG_RELEASE} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nginx&#45;module&#45;geoip=${NGINX_VERSION}&#45;r${PKG_RELEASE} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nginx&#45;module&#45;image&#45;filter=${NGINX_VERSION}&#45;r${PKG_RELEASE} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nginx&#45;module&#45;njs=${NGINX_VERSION}.${NJS_VERSION}&#45;r${PKG_RELEASE} &#160;&#160;&#160;&#160;&quot; &#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache &#45;&#45;virtual .checksum&#45;deps &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;openssl &#160;&#160;&#160;&#160;&amp;&amp; case &quot;$apkArch&quot; in &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;x86_64|aarch64) &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set &#45;x &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; KEY_SHA512=&quot;e09fa32f0a0eab2b879ccbbc4d0e4fb9751486eedda75e35fac65802cc9faa266425edf83e261137a2f4d16281ce2c1a5f4502930fe75154723da014214f0655&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; wget &#45;O /tmp/nginx_signing.rsa.pub https://nginx.org/keys/nginx_signing.rsa.pub &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; if echo &quot;$KEY_SHA512 */tmp/nginx_signing.rsa.pub&quot; | sha512sum &#45;c &#45;; then &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;key verification succeeded!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;mv /tmp/nginx_signing.rsa.pub /etc/apk/keys/; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;key verification failed!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;exit 1; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;fi &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;X &quot;https://nginx.org/packages/mainline/alpine/v$(egrep &#45;o &#39;^[0&#45;9]+.[0&#45;9]+&#39; /etc/alpine&#45;release)/main&quot; &#45;&#45;no&#45;cache $nginxPackages &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;*) &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set &#45;x &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; tempDir=&quot;$(mktemp &#45;d)&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; chown nobody:nobody $tempDir &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache &#45;&#45;virtual .build&#45;deps &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;gcc &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;libc&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;make &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;openssl&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;pcre2&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;zlib&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;linux&#45;headers &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;libxslt&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;gd&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;geoip&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;libedit&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;bash &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;alpine&#45;sdk &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findutils &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; su nobody &#45;s /bin/sh &#45;c &quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;export HOME=${tempDir} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cd ${tempDir} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; curl &#45;f &#45;O https://hg.nginx.org/pkg&#45;oss/archive/${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; PKGOSSCHECKSUM=&quot;dd08a5c2b441817d58ffc91ade0d927a21bc9854c768391e92a005997a2961bcda64ca6a5cfce98d5394ac2787c8f4839b150f206835a8a7db944625651f9fd8 *${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; if [ &quot;$(openssl sha512 &#45;r ${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz)&quot; = &quot;$PKGOSSCHECKSUM&quot; ]; then &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;pkg&#45;oss tarball checksum verification succeeded!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;pkg&#45;oss tarball checksum verification failed!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;exit 1; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;fi &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; tar xzvf ${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cd pkg&#45;oss&#45;${NGINX_VERSION}&#45;${PKG_RELEASE} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cd alpine &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; make module&#45;geoip module&#45;image&#45;filter module&#45;njs module&#45;xslt &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk index &#45;o ${tempDir}/packages/alpine/${apkArch}/APKINDEX.tar.gz ${tempDir}/packages/alpine/${apkArch}/*.apk &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; abuild&#45;sign &#45;k ${tempDir}/.abuild/abuild&#45;key.rsa ${tempDir}/packages/alpine/${apkArch}/APKINDEX.tar.gz &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cp ${tempDir}/.abuild/abuild&#45;key.rsa.pub /etc/apk/keys/ &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk del &#45;&#45;no&#45;network .build&#45;deps &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;X ${tempDir}/packages/alpine/ &#45;&#45;no&#45;cache $nginxPackages &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;;; &#160;&#160;&#160;&#160;esac &#160;&#160;&#160;&#160;&amp;&amp; apk del &#45;&#45;no&#45;network .checksum&#45;deps &#160;&#160;&#160;&#160;&amp;&amp; if [ &#45;n &quot;$tempDir&quot; ]; then rm &#45;rf &quot;$tempDir&quot;; fi &#160;&#160;&#160;&#160;&amp;&amp; if [ &#45;n &quot;/etc/apk/keys/abuild&#45;key.rsa.pub&quot; ]; then rm &#45;f /etc/apk/keys/abuild&#45;key.rsa.pub; fi &#160;&#160;&#160;&#160;&amp;&amp; if [ &#45;n &quot;/etc/apk/keys/nginx_signing.rsa.pub&quot; ]; then rm &#45;f /etc/apk/keys/nginx_signing.rsa.pub; fi &#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache curl ca&#45;certificates">
<defs>
<linearGradient id="l_48" gradientUnits="userSpaceOnUse" x1="997.52" y1="-93.85" x2="1512.88" y2="-93.85" >
<stop offset="0.714" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.715" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_48)" stroke="black" points="1512.88,-112.17 1255.2,-171.47 997.52,-112.17 1095.95,-16.23 1414.46,-16.23 1512.88,-112.17"/>
<text text-anchor="middle" x="1255.2" y="-119.46" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.7148426478296905</text>
<text text-anchor="middle" x="1255.2" y="-104.46" font-family="Times,serif" font-size="14.00">layer size: 28.22mb</text>
<text text-anchor="middle" x="1255.2" y="-89.46" font-family="Times,serif" font-size="14.00">subtotal size: 39.48mb</text>
<text text-anchor="middle" x="1255.2" y="-74.46" font-family="Times,serif" font-size="14.00">running total: 39.48mb</text>
<text text-anchor="middle" x="1255.2" y="-59.46" font-family="Times,serif" font-size="14.00">tags: 1.25.1&#45;alpine</text>
<text text-anchor="middle" x="1255.2" y="-44.46" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c set &#45;x &#160;&#160;&#160;&#160;&amp;&amp; apkArch=&quot;$(cat </text>
</a>
</g>
</g>
<!-- cust&#45;a7f56ec51d59e48d0a2eb037c953f1df&#45;&gt;cust&#45;ceb561fbc927dd6588c3318d519a3cee -->
<g id="edge31" class="edge">
<title>cust&#45;a7f56ec51d59e48d0a2eb037c953f1df&#45;&gt;cust&#45;ceb561fbc927dd6588c3318d519a3cee</title>
<path fill="none" stroke="black" d="M1255.2,-251.4C1255.2,-231.37 1255.2,-206.29 1255.2,-181.79"/>
<polygon fill="black" stroke="black" points="1258.7,-181.71 1255.2,-171.71 1251.7,-181.71 1258.7,-181.71"/>
</g>
<!-- cust&#45;88f943ebedb51761827704a9c9b18233 -->
<g id="node50" class="node">
<title>cust&#45;88f943ebedb51761827704a9c9b18233</title>
<g id="a_node50"><a xlink:title="/bin/sh &#45;c #(nop) ADD file:756183bba9c7f4593c2b216e98e4208b9163c4c962ea0837ef88bd917609d001 in / ">
<defs>
<linearGradient id="l_49" gradientUnits="userSpaceOnUse" x1="1632.7" y1="-2122.12" x2="1945.7" y2="-2122.12" >
<stop offset="0.171" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.172" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_49)" stroke="black" points="1945.7,-2163.62 1632.7,-2163.62 1632.7,-2080.62 1945.7,-2080.62 1945.7,-2163.62"/>
<text text-anchor="middle" x="1789.2" y="-2148.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.17217823346691918</text>
<text text-anchor="middle" x="1789.2" y="-2133.42" font-family="Times,serif" font-size="14.00">layer size: 7.0mb</text>
<text text-anchor="middle" x="1789.2" y="-2118.42" font-family="Times,serif" font-size="14.00">subtotal size: 40.63mb</text>
<text text-anchor="middle" x="1789.2" y="-2103.42" font-family="Times,serif" font-size="14.00">running total: 7.0mb</text>
<text text-anchor="middle" x="1789.2" y="-2088.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) ADD file:756183bba9c7f</text>
</a>
</g>
</g>
<!-- cust&#45;17551602a54d88b66430effd1affee02 -->
<g id="node51" class="node">
<title>cust&#45;17551602a54d88b66430effd1affee02</title>
<g id="a_node51"><a xlink:title="/bin/sh &#45;c #(nop) &#160;CMD [&quot;/bin/sh&quot;]">
<defs>
<linearGradient id="l_50" gradientUnits="userSpaceOnUse" x1="1661.2" y1="-2003.12" x2="1917.2" y2="-2003.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_50)" stroke="black" points="1917.2,-2044.62 1661.2,-2044.62 1661.2,-1961.62 1917.2,-1961.62 1917.2,-2044.62"/>
<text text-anchor="middle" x="1789.2" y="-2029.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="1789.2" y="-2014.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="1789.2" y="-1999.42" font-family="Times,serif" font-size="14.00">subtotal size: 40.63mb</text>
<text text-anchor="middle" x="1789.2" y="-1984.42" font-family="Times,serif" font-size="14.00">running total: 7.0mb</text>
<text text-anchor="middle" x="1789.2" y="-1969.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) &#160;CMD [&quot;/bin/sh&quot;]</text>
</a>
</g>
</g>
<!-- cust&#45;88f943ebedb51761827704a9c9b18233&#45;&gt;cust&#45;17551602a54d88b66430effd1affee02 -->
<g id="edge62" class="edge">
<title>cust&#45;88f943ebedb51761827704a9c9b18233&#45;&gt;cust&#45;17551602a54d88b66430effd1affee02</title>
<path fill="none" stroke="black" d="M1789.2,-2080.53C1789.2,-2072.27 1789.2,-2063.48 1789.2,-2054.92"/>
<polygon fill="black" stroke="black" points="1792.7,-2054.64 1789.2,-2044.64 1785.7,-2054.64 1792.7,-2054.64"/>
</g>
<!-- cust&#45;075343778145f2c29e260006b732d329 -->
<g id="node52" class="node">
<title>cust&#45;075343778145f2c29e260006b732d329</title>
<g id="a_node52"><a xlink:title="/bin/sh &#45;c #(nop) &#160;LABEL maintainer=NGINX Docker Maintainers &lt;docker&#45;maint@nginx.com&gt;">
<defs>
<linearGradient id="l_51" gradientUnits="userSpaceOnUse" x1="1625.7" y1="-1884.12" x2="1952.7" y2="-1884.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_51)" stroke="black" points="1952.7,-1925.62 1625.7,-1925.62 1625.7,-1842.62 1952.7,-1842.62 1952.7,-1925.62"/>
<text text-anchor="middle" x="1789.2" y="-1910.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="1789.2" y="-1895.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="1789.2" y="-1880.42" font-family="Times,serif" font-size="14.00">subtotal size: 40.63mb</text>
<text text-anchor="middle" x="1789.2" y="-1865.42" font-family="Times,serif" font-size="14.00">running total: 7.0mb</text>
<text text-anchor="middle" x="1789.2" y="-1850.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) &#160;LABEL maintainer=NGIN</text>
</a>
</g>
</g>
<!-- cust&#45;17551602a54d88b66430effd1affee02&#45;&gt;cust&#45;075343778145f2c29e260006b732d329 -->
<g id="edge61" class="edge">
<title>cust&#45;17551602a54d88b66430effd1affee02&#45;&gt;cust&#45;075343778145f2c29e260006b732d329</title>
<path fill="none" stroke="black" d="M1789.2,-1961.53C1789.2,-1953.27 1789.2,-1944.48 1789.2,-1935.92"/>
<polygon fill="black" stroke="black" points="1792.7,-1935.64 1789.2,-1925.64 1785.7,-1935.64 1792.7,-1935.64"/>
</g>
<!-- cust&#45;bdf5f3ea3b5b5cd33f6843c5456a27af -->
<g id="node53" class="node">
<title>cust&#45;bdf5f3ea3b5b5cd33f6843c5456a27af</title>
<g id="a_node53"><a xlink:title="/bin/sh &#45;c #(nop) &#160;ENV NGINX_VERSION=1.25.2">
<defs>
<linearGradient id="l_52" gradientUnits="userSpaceOnUse" x1="1618.7" y1="-1765.12" x2="1959.7" y2="-1765.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_52)" stroke="black" points="1959.7,-1806.62 1618.7,-1806.62 1618.7,-1723.62 1959.7,-1723.62 1959.7,-1806.62"/>
<text text-anchor="middle" x="1789.2" y="-1791.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="1789.2" y="-1776.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="1789.2" y="-1761.42" font-family="Times,serif" font-size="14.00">subtotal size: 40.63mb</text>
<text text-anchor="middle" x="1789.2" y="-1746.42" font-family="Times,serif" font-size="14.00">running total: 7.0mb</text>
<text text-anchor="middle" x="1789.2" y="-1731.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) &#160;ENV NGINX_VERSION=1.2</text>
</a>
</g>
</g>
<!-- cust&#45;075343778145f2c29e260006b732d329&#45;&gt;cust&#45;bdf5f3ea3b5b5cd33f6843c5456a27af -->
<g id="edge60" class="edge">
<title>cust&#45;075343778145f2c29e260006b732d329&#45;&gt;cust&#45;bdf5f3ea3b5b5cd33f6843c5456a27af</title>
<path fill="none" stroke="black" d="M1789.2,-1842.53C1789.2,-1834.27 1789.2,-1825.48 1789.2,-1816.92"/>
<polygon fill="black" stroke="black" points="1792.7,-1816.64 1789.2,-1806.64 1785.7,-1816.64 1792.7,-1816.64"/>
</g>
<!-- cust&#45;a25a9ab467ef1f7e43d5298e113ea394 -->
<g id="node54" class="node">
<title>cust&#45;a25a9ab467ef1f7e43d5298e113ea394</title>
<g id="a_node54"><a xlink:title="/bin/sh &#45;c #(nop) &#160;ENV PKG_RELEASE=1">
<defs>
<linearGradient id="l_53" gradientUnits="userSpaceOnUse" x1="1634.2" y1="-1646.12" x2="1944.2" y2="-1646.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_53)" stroke="black" points="1944.2,-1687.62 1634.2,-1687.62 1634.2,-1604.62 1944.2,-1604.62 1944.2,-1687.62"/>
<text text-anchor="middle" x="1789.2" y="-1672.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="1789.2" y="-1657.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="1789.2" y="-1642.42" font-family="Times,serif" font-size="14.00">subtotal size: 40.63mb</text>
<text text-anchor="middle" x="1789.2" y="-1627.42" font-family="Times,serif" font-size="14.00">running total: 7.0mb</text>
<text text-anchor="middle" x="1789.2" y="-1612.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) &#160;ENV PKG_RELEASE=1</text>
</a>
</g>
</g>
<!-- cust&#45;bdf5f3ea3b5b5cd33f6843c5456a27af&#45;&gt;cust&#45;a25a9ab467ef1f7e43d5298e113ea394 -->
<g id="edge59" class="edge">
<title>cust&#45;bdf5f3ea3b5b5cd33f6843c5456a27af&#45;&gt;cust&#45;a25a9ab467ef1f7e43d5298e113ea394</title>
<path fill="none" stroke="black" d="M1789.2,-1723.53C1789.2,-1715.27 1789.2,-1706.48 1789.2,-1697.92"/>
<polygon fill="black" stroke="black" points="1792.7,-1697.64 1789.2,-1687.64 1785.7,-1697.64 1792.7,-1697.64"/>
</g>
<!-- cust&#45;3925bd5114abb4351748ac4770914bc7 -->
<g id="node55" class="node">
<title>cust&#45;3925bd5114abb4351748ac4770914bc7</title>
<g id="a_node55"><a xlink:title="/bin/sh &#45;c set &#45;x &#160;&#160;&#160;&#160;&amp;&amp; addgroup &#45;g 101 &#45;S nginx &#160;&#160;&#160;&#160;&amp;&amp; adduser &#45;S &#45;D &#45;H &#45;u 101 &#45;h /var/cache/nginx &#45;s /sbin/nologin &#45;G nginx &#45;g nginx nginx &#160;&#160;&#160;&#160;&amp;&amp; apkArch=&quot;$(cat /etc/apk/arch)&quot; &#160;&#160;&#160;&#160;&amp;&amp; nginxPackages=&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nginx=${NGINX_VERSION}&#45;r${PKG_RELEASE} &#160;&#160;&#160;&#160;&quot; &#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache &#45;&#45;virtual .checksum&#45;deps &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;openssl &#160;&#160;&#160;&#160;&amp;&amp; case &quot;$apkArch&quot; in &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;x86_64|aarch64) &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set &#45;x &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; KEY_SHA512=&quot;e09fa32f0a0eab2b879ccbbc4d0e4fb9751486eedda75e35fac65802cc9faa266425edf83e261137a2f4d16281ce2c1a5f4502930fe75154723da014214f0655&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; wget &#45;O /tmp/nginx_signing.rsa.pub https://nginx.org/keys/nginx_signing.rsa.pub &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; if echo &quot;$KEY_SHA512 */tmp/nginx_signing.rsa.pub&quot; | sha512sum &#45;c &#45;; then &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;key verification succeeded!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;mv /tmp/nginx_signing.rsa.pub /etc/apk/keys/; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;key verification failed!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;exit 1; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;fi &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;X &quot;https://nginx.org/packages/mainline/alpine/v$(egrep &#45;o &#39;^[0&#45;9]+.[0&#45;9]+&#39; /etc/alpine&#45;release)/main&quot; &#45;&#45;no&#45;cache $nginxPackages &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;*) &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set &#45;x &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; tempDir=&quot;$(mktemp &#45;d)&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; chown nobody:nobody $tempDir &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache &#45;&#45;virtual .build&#45;deps &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;gcc &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;libc&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;make &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;openssl&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;pcre2&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;zlib&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;linux&#45;headers &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;bash &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;alpine&#45;sdk &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findutils &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; su nobody &#45;s /bin/sh &#45;c &quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;export HOME=${tempDir} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cd ${tempDir} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; curl &#45;f &#45;O https://hg.nginx.org/pkg&#45;oss/archive/${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; PKGOSSCHECKSUM=&quot;64d3f504b246df1997d8442b12303944d2f51e09b35443b23da479af7790b9f84cf2ddf8ba108bdd712f92466f9a8e107b865a488f0898b87d39059f9f7ff56c *${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; if [ &quot;$(openssl sha512 &#45;r ${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz)&quot; = &quot;$PKGOSSCHECKSUM&quot; ]; then &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;pkg&#45;oss tarball checksum verification succeeded!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;pkg&#45;oss tarball checksum verification failed!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;exit 1; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;fi &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; tar xzvf ${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cd pkg&#45;oss&#45;${NGINX_VERSION}&#45;${PKG_RELEASE} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cd alpine &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; make base &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk index &#45;o ${tempDir}/packages/alpine/${apkArch}/APKINDEX.tar.gz ${tempDir}/packages/alpine/${apkArch}/*.apk &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; abuild&#45;sign &#45;k ${tempDir}/.abuild/abuild&#45;key.rsa ${tempDir}/packages/alpine/${apkArch}/APKINDEX.tar.gz &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cp ${tempDir}/.abuild/abuild&#45;key.rsa.pub /etc/apk/keys/ &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk del &#45;&#45;no&#45;network .build&#45;deps &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;X ${tempDir}/packages/alpine/ &#45;&#45;no&#45;cache $nginxPackages &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;;; &#160;&#160;&#160;&#160;esac &#160;&#160;&#160;&#160;&amp;&amp; apk del &#45;&#45;no&#45;network .checksum&#45;deps &#160;&#160;&#160;&#160;&amp;&amp; if [ &#45;n &quot;$tempDir&quot; ]; then rm &#45;rf &quot;$tempDir&quot;; fi &#160;&#160;&#160;&#160;&amp;&amp; if [ &#45;f &quot;/etc/apk/keys/abuild&#45;key.rsa.pub&quot; ]; then rm &#45;f /etc/apk/keys/abuild&#45;key.rsa.pub; fi &#160;&#160;&#160;&#160;&amp;&amp; if [ &#45;f &quot;/etc/apk/keys/nginx_signing.rsa.pub&quot; ]; then rm &#45;f /etc/apk/keys/nginx_signing.rsa.pub; fi &#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache &#45;&#45;virtual .gettext gettext &#160;&#160;&#160;&#160;&amp;&amp; mv /usr/bin/envsubst /tmp/ &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; runDeps=&quot;$( &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;scanelf &#45;&#45;needed &#45;&#45;nobanner /tmp/envsubst &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;| awk &#39;{ gsub(/,/, &quot;&#10;so:&quot;, $2); print &quot;so:&quot; $2 }&#39; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;| sort &#45;u &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;| xargs &#45;r apk info &#45;&#45;installed &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;| sort &#45;u &#160;&#160;&#160;&#160;)&quot; &#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache $runDeps &#160;&#160;&#160;&#160;&amp;&amp; apk del &#45;&#45;no&#45;network .gettext &#160;&#160;&#160;&#160;&amp;&amp; mv /tmp/envsubst /usr/local/bin/ &#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache tzdata &#160;&#160;&#160;&#160;&amp;&amp; ln &#45;sf /dev/stdout /var/log/nginx/access.log &#160;&#160;&#160;&#160;&amp;&amp; ln &#45;sf /dev/stderr /var/log/nginx/error.log &#160;&#160;&#160;&#160;&amp;&amp; mkdir /docker&#45;entrypoint.d">
<defs>
<linearGradient id="l_54" gradientUnits="userSpaceOnUse" x1="1641.7" y1="-1527.12" x2="1936.7" y2="-1527.12" >
<stop offset="0.106" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.107" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_54)" stroke="black" points="1936.7,-1568.62 1641.7,-1568.62 1641.7,-1485.62 1936.7,-1485.62 1936.7,-1568.62"/>
<text text-anchor="middle" x="1789.2" y="-1553.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.10693201505084862</text>
<text text-anchor="middle" x="1789.2" y="-1538.42" font-family="Times,serif" font-size="14.00">layer size: 4.34mb</text>
<text text-anchor="middle" x="1789.2" y="-1523.42" font-family="Times,serif" font-size="14.00">subtotal size: 40.63mb</text>
<text text-anchor="middle" x="1789.2" y="-1508.42" font-family="Times,serif" font-size="14.00">running total: 11.34mb</text>
<text text-anchor="middle" x="1789.2" y="-1493.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c set &#45;x &#160;&#160;&#160;&#160;&amp;&amp; addgroup &#45;g 101</text>
</a>
</g>
</g>
<!-- cust&#45;a25a9ab467ef1f7e43d5298e113ea394&#45;&gt;cust&#45;3925bd5114abb4351748ac4770914bc7 -->
<g id="edge58" class="edge">
<title>cust&#45;a25a9ab467ef1f7e43d5298e113ea394&#45;&gt;cust&#45;3925bd5114abb4351748ac4770914bc7</title>
<path fill="none" stroke="black" d="M1789.2,-1604.53C1789.2,-1596.27 1789.2,-1587.48 1789.2,-1578.92"/>
<polygon fill="black" stroke="black" points="1792.7,-1578.64 1789.2,-1568.64 1785.7,-1578.64 1792.7,-1578.64"/>
</g>
<!-- cust&#45;4358e162ef63f150b3c128a9bf5243ff -->
<g id="node56" class="node">
<title>cust&#45;4358e162ef63f150b3c128a9bf5243ff</title>
<g id="a_node56"><a xlink:title="/bin/sh &#45;c #(nop) COPY file:01e75c6dd0ce317d516928a17584d111cd082840c01e58be0afc851b33adb916 in / ">
<defs>
<linearGradient id="l_55" gradientUnits="userSpaceOnUse" x1="1632.2" y1="-1408.12" x2="1946.2" y2="-1408.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_55)" stroke="black" points="1946.2,-1449.62 1632.2,-1449.62 1632.2,-1366.62 1946.2,-1366.62 1946.2,-1449.62"/>
<text text-anchor="middle" x="1789.2" y="-1434.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 3.8025212687689634e&#45;05</text>
<text text-anchor="middle" x="1789.2" y="-1419.42" font-family="Times,serif" font-size="14.00">layer size: 1.58kb</text>
<text text-anchor="middle" x="1789.2" y="-1404.42" font-family="Times,serif" font-size="14.00">subtotal size: 40.63mb</text>
<text text-anchor="middle" x="1789.2" y="-1389.42" font-family="Times,serif" font-size="14.00">running total: 11.34mb</text>
<text text-anchor="middle" x="1789.2" y="-1374.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) COPY file:01e75c6dd0ce</text>
</a>
</g>
</g>
<!-- cust&#45;3925bd5114abb4351748ac4770914bc7&#45;&gt;cust&#45;4358e162ef63f150b3c128a9bf5243ff -->
<g id="edge57" class="edge">
<title>cust&#45;3925bd5114abb4351748ac4770914bc7&#45;&gt;cust&#45;4358e162ef63f150b3c128a9bf5243ff</title>
<path fill="none" stroke="black" d="M1789.2,-1485.53C1789.2,-1477.27 1789.2,-1468.48 1789.2,-1459.92"/>
<polygon fill="black" stroke="black" points="1792.7,-1459.64 1789.2,-1449.64 1785.7,-1459.64 1792.7,-1459.64"/>
</g>
<!-- cust&#45;3464f78cade8ce55e25ec487ba060f23 -->
<g id="node57" class="node">
<title>cust&#45;3464f78cade8ce55e25ec487ba060f23</title>
<g id="a_node57"><a xlink:title="/bin/sh &#45;c #(nop) COPY file:caec368f5a54f70a844a13005eb2255bed778809b3672d516e719ce2f4bce123 in /docker&#45;entrypoint.d ">
<defs>
<linearGradient id="l_56" gradientUnits="userSpaceOnUse" x1="1634.7" y1="-1289.12" x2="1943.7" y2="-1289.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_56)" stroke="black" points="1943.7,-1330.62 1634.7,-1330.62 1634.7,-1247.62 1943.7,-1247.62 1943.7,-1330.62"/>
<text text-anchor="middle" x="1789.2" y="-1315.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 4.987875121070399e&#45;05</text>
<text text-anchor="middle" x="1789.2" y="-1300.42" font-family="Times,serif" font-size="14.00">layer size: 2.08kb</text>
<text text-anchor="middle" x="1789.2" y="-1285.42" font-family="Times,serif" font-size="14.00">subtotal size: 40.63mb</text>
<text text-anchor="middle" x="1789.2" y="-1270.42" font-family="Times,serif" font-size="14.00">running total: 11.34mb</text>
<text text-anchor="middle" x="1789.2" y="-1255.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) COPY file:caec368f5a54</text>
</a>
</g>
</g>
<!-- cust&#45;4358e162ef63f150b3c128a9bf5243ff&#45;&gt;cust&#45;3464f78cade8ce55e25ec487ba060f23 -->
<g id="edge56" class="edge">
<title>cust&#45;4358e162ef63f150b3c128a9bf5243ff&#45;&gt;cust&#45;3464f78cade8ce55e25ec487ba060f23</title>
<path fill="none" stroke="black" d="M1789.2,-1366.53C1789.2,-1358.27 1789.2,-1349.48 1789.2,-1340.92"/>
<polygon fill="black" stroke="black" points="1792.7,-1340.64 1789.2,-1330.64 1785.7,-1340.64 1792.7,-1340.64"/>
</g>
<!-- cust&#45;baab3dfc42a50594dda639c7cbb1bc10 -->
<g id="node58" class="node">
<title>cust&#45;baab3dfc42a50594dda639c7cbb1bc10</title>
<g id="a_node58"><a xlink:title="/bin/sh &#45;c #(nop) COPY file:3b1b9915b7dd898a0e32f7eb9715a35c9feab914022efff68ba990bc1ec7d169 in /docker&#45;entrypoint.d ">
<defs>
<linearGradient id="l_57" gradientUnits="userSpaceOnUse" x1="1630.2" y1="-1170.12" x2="1948.2" y2="-1170.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_57)" stroke="black" points="1948.2,-1211.62 1630.2,-1211.62 1630.2,-1128.62 1948.2,-1128.62 1948.2,-1211.62"/>
<text text-anchor="middle" x="1789.2" y="-1196.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 6.994761346254019e&#45;06</text>
<text text-anchor="middle" x="1789.2" y="-1181.42" font-family="Times,serif" font-size="14.00">layer size: 0.29kb</text>
<text text-anchor="middle" x="1789.2" y="-1166.42" font-family="Times,serif" font-size="14.00">subtotal size: 40.63mb</text>
<text text-anchor="middle" x="1789.2" y="-1151.42" font-family="Times,serif" font-size="14.00">running total: 11.34mb</text>
<text text-anchor="middle" x="1789.2" y="-1136.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) COPY file:3b1b9915b7dd</text>
</a>
</g>
</g>
<!-- cust&#45;3464f78cade8ce55e25ec487ba060f23&#45;&gt;cust&#45;baab3dfc42a50594dda639c7cbb1bc10 -->
<g id="edge55" class="edge">
<title>cust&#45;3464f78cade8ce55e25ec487ba060f23&#45;&gt;cust&#45;baab3dfc42a50594dda639c7cbb1bc10</title>
<path fill="none" stroke="black" d="M1789.2,-1247.53C1789.2,-1239.27 1789.2,-1230.48 1789.2,-1221.92"/>
<polygon fill="black" stroke="black" points="1792.7,-1221.64 1789.2,-1211.64 1785.7,-1221.64 1792.7,-1221.64"/>
</g>
<!-- cust&#45;ac6829388ecad1895af28b0115789ac0 -->
<g id="node59" class="node">
<title>cust&#45;ac6829388ecad1895af28b0115789ac0</title>
<g id="a_node59"><a xlink:title="/bin/sh &#45;c #(nop) COPY file:57846632accc89753f45cbc00cb9e6223d991e1d31297eec3395a7ca58eed6a6 in /docker&#45;entrypoint.d ">
<defs>
<linearGradient id="l_58" gradientUnits="userSpaceOnUse" x1="1632.7" y1="-1051.12" x2="1945.7" y2="-1051.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_58)" stroke="black" points="1945.7,-1092.62 1632.7,-1092.62 1632.7,-1009.62 1945.7,-1009.62 1945.7,-1092.62"/>
<text text-anchor="middle" x="1789.2" y="-1077.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 7.083956289595513e&#45;05</text>
<text text-anchor="middle" x="1789.2" y="-1062.42" font-family="Times,serif" font-size="14.00">layer size: 2.95kb</text>
<text text-anchor="middle" x="1789.2" y="-1047.42" font-family="Times,serif" font-size="14.00">subtotal size: 40.63mb</text>
<text text-anchor="middle" x="1789.2" y="-1032.42" font-family="Times,serif" font-size="14.00">running total: 11.35mb</text>
<text text-anchor="middle" x="1789.2" y="-1017.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) COPY file:57846632accc</text>
</a>
</g>
</g>
<!-- cust&#45;baab3dfc42a50594dda639c7cbb1bc10&#45;&gt;cust&#45;ac6829388ecad1895af28b0115789ac0 -->
<g id="edge54" class="edge">
<title>cust&#45;baab3dfc42a50594dda639c7cbb1bc10&#45;&gt;cust&#45;ac6829388ecad1895af28b0115789ac0</title>
<path fill="none" stroke="black" d="M1789.2,-1128.53C1789.2,-1120.27 1789.2,-1111.48 1789.2,-1102.92"/>
<polygon fill="black" stroke="black" points="1792.7,-1102.64 1789.2,-1092.64 1785.7,-1102.64 1792.7,-1102.64"/>
</g>
<!-- cust&#45;e7cc7207b641b267899949b9f349e739 -->
<g id="node60" class="node">
<title>cust&#45;e7cc7207b641b267899949b9f349e739</title>
<g id="a_node60"><a xlink:title="/bin/sh &#45;c #(nop) COPY file:9e3b2b63db9f8fc702e2dc2bdd0943be0d990c028cddcf1c159f5556a8ba3030 in /docker&#45;entrypoint.d ">
<defs>
<linearGradient id="l_59" gradientUnits="userSpaceOnUse" x1="1631.2" y1="-932.12" x2="1947.2" y2="-932.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_59)" stroke="black" points="1947.2,-973.62 1631.2,-973.62 1631.2,-890.62 1947.2,-890.62 1947.2,-973.62"/>
<text text-anchor="middle" x="1789.2" y="-958.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.00010841880086693729</text>
<text text-anchor="middle" x="1789.2" y="-943.42" font-family="Times,serif" font-size="14.00">layer size: 4.51kb</text>
<text text-anchor="middle" x="1789.2" y="-928.42" font-family="Times,serif" font-size="14.00">subtotal size: 40.63mb</text>
<text text-anchor="middle" x="1789.2" y="-913.42" font-family="Times,serif" font-size="14.00">running total: 11.35mb</text>
<text text-anchor="middle" x="1789.2" y="-898.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) COPY file:9e3b2b63db9f</text>
</a>
</g>
</g>
<!-- cust&#45;ac6829388ecad1895af28b0115789ac0&#45;&gt;cust&#45;e7cc7207b641b267899949b9f349e739 -->
<g id="edge53" class="edge">
<title>cust&#45;ac6829388ecad1895af28b0115789ac0&#45;&gt;cust&#45;e7cc7207b641b267899949b9f349e739</title>
<path fill="none" stroke="black" d="M1789.2,-1009.53C1789.2,-1001.27 1789.2,-992.48 1789.2,-983.92"/>
<polygon fill="black" stroke="black" points="1792.7,-983.64 1789.2,-973.64 1785.7,-983.64 1792.7,-983.64"/>
</g>
<!-- cust&#45;f5aa64917de95ebafa70475b20c43fa7 -->
<g id="node61" class="node">
<title>cust&#45;f5aa64917de95ebafa70475b20c43fa7</title>
<g id="a_node61"><a xlink:title="/bin/sh &#45;c #(nop) &#160;ENTRYPOINT [&quot;/docker&#45;entrypoint.sh&quot;]">
<defs>
<linearGradient id="l_60" gradientUnits="userSpaceOnUse" x1="1632.2" y1="-813.12" x2="1946.2" y2="-813.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_60)" stroke="black" points="1946.2,-854.62 1632.2,-854.62 1632.2,-771.62 1946.2,-771.62 1946.2,-854.62"/>
<text text-anchor="middle" x="1789.2" y="-839.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="1789.2" y="-824.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="1789.2" y="-809.42" font-family="Times,serif" font-size="14.00">subtotal size: 40.63mb</text>
<text text-anchor="middle" x="1789.2" y="-794.42" font-family="Times,serif" font-size="14.00">running total: 11.35mb</text>
<text text-anchor="middle" x="1789.2" y="-779.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) &#160;ENTRYPOINT [&quot;/docker&#45;</text>
</a>
</g>
</g>
<!-- cust&#45;e7cc7207b641b267899949b9f349e739&#45;&gt;cust&#45;f5aa64917de95ebafa70475b20c43fa7 -->
<g id="edge52" class="edge">
<title>cust&#45;e7cc7207b641b267899949b9f349e739&#45;&gt;cust&#45;f5aa64917de95ebafa70475b20c43fa7</title>
<path fill="none" stroke="black" d="M1789.2,-890.53C1789.2,-882.27 1789.2,-873.48 1789.2,-864.92"/>
<polygon fill="black" stroke="black" points="1792.7,-864.64 1789.2,-854.64 1785.7,-864.64 1792.7,-864.64"/>
</g>
<!-- cust&#45;0f30e91f7684cb830803672a1cda45e4 -->
<g id="node62" class="node">
<title>cust&#45;0f30e91f7684cb830803672a1cda45e4</title>
<g id="a_node62"><a xlink:title="/bin/sh &#45;c #(nop) &#160;EXPOSE 80">
<defs>
<linearGradient id="l_61" gradientUnits="userSpaceOnUse" x1="1675.7" y1="-694.12" x2="1902.7" y2="-694.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_61)" stroke="black" points="1902.7,-735.62 1675.7,-735.62 1675.7,-652.62 1902.7,-652.62 1902.7,-735.62"/>
<text text-anchor="middle" x="1789.2" y="-720.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="1789.2" y="-705.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="1789.2" y="-690.42" font-family="Times,serif" font-size="14.00">subtotal size: 40.63mb</text>
<text text-anchor="middle" x="1789.2" y="-675.42" font-family="Times,serif" font-size="14.00">running total: 11.35mb</text>
<text text-anchor="middle" x="1789.2" y="-660.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) &#160;EXPOSE 80</text>
</a>
</g>
</g>
<!-- cust&#45;f5aa64917de95ebafa70475b20c43fa7&#45;&gt;cust&#45;0f30e91f7684cb830803672a1cda45e4 -->
<g id="edge51" class="edge">
<title>cust&#45;f5aa64917de95ebafa70475b20c43fa7&#45;&gt;cust&#45;0f30e91f7684cb830803672a1cda45e4</title>
<path fill="none" stroke="black" d="M1789.2,-771.53C1789.2,-763.27 1789.2,-754.48 1789.2,-745.92"/>
<polygon fill="black" stroke="black" points="1792.7,-745.64 1789.2,-735.64 1785.7,-745.64 1792.7,-745.64"/>
</g>
<!-- cust&#45;a0890146f54503884f4f246092b7849b -->
<g id="node63" class="node">
<title>cust&#45;a0890146f54503884f4f246092b7849b</title>
<g id="a_node63"><a xlink:title="/bin/sh &#45;c #(nop) &#160;STOPSIGNAL SIGQUIT">
<defs>
<linearGradient id="l_62" gradientUnits="userSpaceOnUse" x1="1635.2" y1="-575.12" x2="1943.2" y2="-575.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_62)" stroke="black" points="1943.2,-616.62 1635.2,-616.62 1635.2,-533.62 1943.2,-533.62 1943.2,-616.62"/>
<text text-anchor="middle" x="1789.2" y="-601.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="1789.2" y="-586.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="1789.2" y="-571.42" font-family="Times,serif" font-size="14.00">subtotal size: 40.63mb</text>
<text text-anchor="middle" x="1789.2" y="-556.42" font-family="Times,serif" font-size="14.00">running total: 11.35mb</text>
<text text-anchor="middle" x="1789.2" y="-541.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) &#160;STOPSIGNAL SIGQUIT</text>
</a>
</g>
</g>
<!-- cust&#45;0f30e91f7684cb830803672a1cda45e4&#45;&gt;cust&#45;a0890146f54503884f4f246092b7849b -->
<g id="edge50" class="edge">
<title>cust&#45;0f30e91f7684cb830803672a1cda45e4&#45;&gt;cust&#45;a0890146f54503884f4f246092b7849b</title>
<path fill="none" stroke="black" d="M1789.2,-652.53C1789.2,-644.27 1789.2,-635.48 1789.2,-626.92"/>
<polygon fill="black" stroke="black" points="1792.7,-626.64 1789.2,-616.64 1785.7,-626.64 1792.7,-626.64"/>
</g>
<!-- cust&#45;eae14e4cc003b6ac835da8d785fc45f1 -->
<g id="node64" class="node">
<title>cust&#45;eae14e4cc003b6ac835da8d785fc45f1</title>
<g id="a_node64"><a xlink:title="/bin/sh &#45;c #(nop) &#160;CMD [&quot;nginx&quot; &quot;&#45;g&quot; &quot;daemon off;&quot;]">
<defs>
<linearGradient id="l_63" gradientUnits="userSpaceOnUse" x1="1638.2" y1="-456.12" x2="1940.2" y2="-456.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_63)" stroke="black" points="1940.2,-497.62 1638.2,-497.62 1638.2,-414.62 1940.2,-414.62 1940.2,-497.62"/>
<text text-anchor="middle" x="1789.2" y="-482.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="1789.2" y="-467.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="1789.2" y="-452.42" font-family="Times,serif" font-size="14.00">subtotal size: 40.63mb</text>
<text text-anchor="middle" x="1789.2" y="-437.42" font-family="Times,serif" font-size="14.00">running total: 11.35mb</text>
<text text-anchor="middle" x="1789.2" y="-422.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) &#160;CMD [&quot;nginx&quot; &quot;&#45;g&quot; &quot;da</text>
</a>
</g>
</g>
<!-- cust&#45;a0890146f54503884f4f246092b7849b&#45;&gt;cust&#45;eae14e4cc003b6ac835da8d785fc45f1 -->
<g id="edge49" class="edge">
<title>cust&#45;a0890146f54503884f4f246092b7849b&#45;&gt;cust&#45;eae14e4cc003b6ac835da8d785fc45f1</title>
<path fill="none" stroke="black" d="M1789.2,-533.53C1789.2,-525.27 1789.2,-516.48 1789.2,-507.92"/>
<polygon fill="black" stroke="black" points="1792.7,-507.64 1789.2,-497.64 1785.7,-507.64 1792.7,-507.64"/>
</g>
<!-- cust&#45;0eef84c69a601170c40396da445419e4 -->
<g id="node65" class="node">
<title>cust&#45;0eef84c69a601170c40396da445419e4</title>
<g id="a_node65"><a xlink:title="/bin/sh &#45;c #(nop) &#160;ENV NJS_VERSION=0.8.0">
<defs>
<linearGradient id="l_64" gradientUnits="userSpaceOnUse" x1="1623.7" y1="-292.97" x2="1954.7" y2="-292.97" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_64)" stroke="black" points="1954.7,-334.47 1623.7,-334.47 1623.7,-251.47 1954.7,-251.47 1954.7,-334.47"/>
<text text-anchor="middle" x="1789.2" y="-319.27" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="1789.2" y="-304.27" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="1789.2" y="-289.27" font-family="Times,serif" font-size="14.00">subtotal size: 40.63mb</text>
<text text-anchor="middle" x="1789.2" y="-274.27" font-family="Times,serif" font-size="14.00">running total: 11.35mb</text>
<text text-anchor="middle" x="1789.2" y="-259.27" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) &#160;ENV NJS_VERSION=0.8.0</text>
</a>
</g>
</g>
<!-- cust&#45;eae14e4cc003b6ac835da8d785fc45f1&#45;&gt;cust&#45;0eef84c69a601170c40396da445419e4 -->
<g id="edge48" class="edge">
<title>cust&#45;eae14e4cc003b6ac835da8d785fc45f1&#45;&gt;cust&#45;0eef84c69a601170c40396da445419e4</title>
<path fill="none" stroke="black" d="M1789.2,-414.45C1789.2,-393.27 1789.2,-367.16 1789.2,-344.67"/>
<polygon fill="black" stroke="black" points="1792.7,-344.62 1789.2,-334.62 1785.7,-344.62 1792.7,-344.62"/>
</g>
<!-- cust&#45;34053d576452e75533a3a75ededd3843 -->
<g id="node66" class="node">
<title>cust&#45;34053d576452e75533a3a75ededd3843</title>
<g id="a_node66"><a xlink:title="/bin/sh &#45;c set &#45;x &#160;&#160;&#160;&#160;&amp;&amp; apkArch=&quot;$(cat /etc/apk/arch)&quot; &#160;&#160;&#160;&#160;&amp;&amp; nginxPackages=&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nginx=${NGINX_VERSION}&#45;r${PKG_RELEASE} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nginx&#45;module&#45;xslt=${NGINX_VERSION}&#45;r${PKG_RELEASE} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nginx&#45;module&#45;geoip=${NGINX_VERSION}&#45;r${PKG_RELEASE} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nginx&#45;module&#45;image&#45;filter=${NGINX_VERSION}&#45;r${PKG_RELEASE} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nginx&#45;module&#45;njs=${NGINX_VERSION}.${NJS_VERSION}&#45;r${PKG_RELEASE} &#160;&#160;&#160;&#160;&quot; &#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache &#45;&#45;virtual .checksum&#45;deps &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;openssl &#160;&#160;&#160;&#160;&amp;&amp; case &quot;$apkArch&quot; in &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;x86_64|aarch64) &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set &#45;x &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; KEY_SHA512=&quot;e09fa32f0a0eab2b879ccbbc4d0e4fb9751486eedda75e35fac65802cc9faa266425edf83e261137a2f4d16281ce2c1a5f4502930fe75154723da014214f0655&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; wget &#45;O /tmp/nginx_signing.rsa.pub https://nginx.org/keys/nginx_signing.rsa.pub &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; if echo &quot;$KEY_SHA512 */tmp/nginx_signing.rsa.pub&quot; | sha512sum &#45;c &#45;; then &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;key verification succeeded!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;mv /tmp/nginx_signing.rsa.pub /etc/apk/keys/; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;key verification failed!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;exit 1; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;fi &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;X &quot;https://nginx.org/packages/mainline/alpine/v$(egrep &#45;o &#39;^[0&#45;9]+.[0&#45;9]+&#39; /etc/alpine&#45;release)/main&quot; &#45;&#45;no&#45;cache $nginxPackages &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;*) &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set &#45;x &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; tempDir=&quot;$(mktemp &#45;d)&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; chown nobody:nobody $tempDir &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache &#45;&#45;virtual .build&#45;deps &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;gcc &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;libc&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;make &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;openssl&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;pcre2&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;zlib&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;linux&#45;headers &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;libxslt&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;gd&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;geoip&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;libedit&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;bash &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;alpine&#45;sdk &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findutils &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; su nobody &#45;s /bin/sh &#45;c &quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;export HOME=${tempDir} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cd ${tempDir} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; curl &#45;f &#45;O https://hg.nginx.org/pkg&#45;oss/archive/${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; PKGOSSCHECKSUM=&quot;64d3f504b246df1997d8442b12303944d2f51e09b35443b23da479af7790b9f84cf2ddf8ba108bdd712f92466f9a8e107b865a488f0898b87d39059f9f7ff56c *${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; if [ &quot;$(openssl sha512 &#45;r ${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz)&quot; = &quot;$PKGOSSCHECKSUM&quot; ]; then &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;pkg&#45;oss tarball checksum verification succeeded!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;pkg&#45;oss tarball checksum verification failed!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;exit 1; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;fi &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; tar xzvf ${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cd pkg&#45;oss&#45;${NGINX_VERSION}&#45;${PKG_RELEASE} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cd alpine &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; make module&#45;geoip module&#45;image&#45;filter module&#45;njs module&#45;xslt &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk index &#45;o ${tempDir}/packages/alpine/${apkArch}/APKINDEX.tar.gz ${tempDir}/packages/alpine/${apkArch}/*.apk &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; abuild&#45;sign &#45;k ${tempDir}/.abuild/abuild&#45;key.rsa ${tempDir}/packages/alpine/${apkArch}/APKINDEX.tar.gz &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cp ${tempDir}/.abuild/abuild&#45;key.rsa.pub /etc/apk/keys/ &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk del &#45;&#45;no&#45;network .build&#45;deps &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;X ${tempDir}/packages/alpine/ &#45;&#45;no&#45;cache $nginxPackages &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;;; &#160;&#160;&#160;&#160;esac &#160;&#160;&#160;&#160;&amp;&amp; apk del &#45;&#45;no&#45;network .checksum&#45;deps &#160;&#160;&#160;&#160;&amp;&amp; if [ &#45;n &quot;$tempDir&quot; ]; then rm &#45;rf &quot;$tempDir&quot;; fi &#160;&#160;&#160;&#160;&amp;&amp; if [ &#45;f &quot;/etc/apk/keys/abuild&#45;key.rsa.pub&quot; ]; then rm &#45;f /etc/apk/keys/abuild&#45;key.rsa.pub; fi &#160;&#160;&#160;&#160;&amp;&amp; if [ &#45;f &quot;/etc/apk/keys/nginx_signing.rsa.pub&quot; ]; then rm &#45;f /etc/apk/keys/nginx_signing.rsa.pub; fi &#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache curl ca&#45;certificates">
<defs>
<linearGradient id="l_65" gradientUnits="userSpaceOnUse" x1="1531.52" y1="-93.85" x2="2046.88" y2="-93.85" >
<stop offset="0.720" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.721" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_65)" stroke="black" points="2046.88,-112.17 1789.2,-171.47 1531.52,-112.17 1629.95,-16.23 1948.46,-16.23 2046.88,-112.17"/>
<text text-anchor="middle" x="1789.2" y="-119.46" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.7206155943932246</text>
<text text-anchor="middle" x="1789.2" y="-104.46" font-family="Times,serif" font-size="14.00">layer size: 29.28mb</text>
<text text-anchor="middle" x="1789.2" y="-89.46" font-family="Times,serif" font-size="14.00">subtotal size: 40.63mb</text>
<text text-anchor="middle" x="1789.2" y="-74.46" font-family="Times,serif" font-size="14.00">running total: 40.63mb</text>
<text text-anchor="middle" x="1789.2" y="-59.46" font-family="Times,serif" font-size="14.00">tags: 1.25.2&#45;alpine</text>
<text text-anchor="middle" x="1789.2" y="-44.46" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c set &#45;x &#160;&#160;&#160;&#160;&amp;&amp; apkArch=&quot;$(cat </text>
</a>
</g>
</g>
<!-- cust&#45;0eef84c69a601170c40396da445419e4&#45;&gt;cust&#45;34053d576452e75533a3a75ededd3843 -->
<g id="edge47" class="edge">
<title>cust&#45;0eef84c69a601170c40396da445419e4&#45;&gt;cust&#45;34053d576452e75533a3a75ededd3843</title>
<path fill="none" stroke="black" d="M1789.2,-251.4C1789.2,-231.37 1789.2,-206.29 1789.2,-181.79"/>
<polygon fill="black" stroke="black" points="1792.7,-181.71 1789.2,-171.71 1785.7,-181.71 1792.7,-181.71"/>
</g>
<!-- cust&#45;08ccc6dfb2fc1b3e8df41c861b30b133 -->
<g id="node67" class="node">
<title>cust&#45;08ccc6dfb2fc1b3e8df41c861b30b133</title>
<g id="a_node67"><a xlink:title="/bin/sh &#45;c #(nop) ADD file:fc714080c3bcbbce7ac746a10d7b4355ffa36293a8d435d62cd5359ea8eb8364 in / ">
<defs>
<linearGradient id="l_66" gradientUnits="userSpaceOnUse" x1="2178.7" y1="-2122.12" x2="2489.7" y2="-2122.12" >
<stop offset="0.171" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.172" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_66)" stroke="black" points="2489.7,-2163.62 2178.7,-2163.62 2178.7,-2080.62 2489.7,-2080.62 2489.7,-2163.62"/>
<text text-anchor="middle" x="2334.2" y="-2148.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.17233092145397064</text>
<text text-anchor="middle" x="2334.2" y="-2133.42" font-family="Times,serif" font-size="14.00">layer size: 7.0mb</text>
<text text-anchor="middle" x="2334.2" y="-2118.42" font-family="Times,serif" font-size="14.00">subtotal size: 40.62mb</text>
<text text-anchor="middle" x="2334.2" y="-2103.42" font-family="Times,serif" font-size="14.00">running total: 7.0mb</text>
<text text-anchor="middle" x="2334.2" y="-2088.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) ADD file:fc714080c3bcb</text>
</a>
</g>
</g>
<!-- cust&#45;8135b839e617c0821dbd21c91d17b830 -->
<g id="node68" class="node">
<title>cust&#45;8135b839e617c0821dbd21c91d17b830</title>
<g id="a_node68"><a xlink:title="/bin/sh &#45;c #(nop) &#160;CMD [&quot;/bin/sh&quot;]">
<defs>
<linearGradient id="l_67" gradientUnits="userSpaceOnUse" x1="2206.2" y1="-2003.12" x2="2462.2" y2="-2003.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_67)" stroke="black" points="2462.2,-2044.62 2206.2,-2044.62 2206.2,-1961.62 2462.2,-1961.62 2462.2,-2044.62"/>
<text text-anchor="middle" x="2334.2" y="-2029.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="2334.2" y="-2014.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="2334.2" y="-1999.42" font-family="Times,serif" font-size="14.00">subtotal size: 40.62mb</text>
<text text-anchor="middle" x="2334.2" y="-1984.42" font-family="Times,serif" font-size="14.00">running total: 7.0mb</text>
<text text-anchor="middle" x="2334.2" y="-1969.42" font-family="Times,serif" font-size="14.00">/bin/sh &#45;c #(nop) &#160;CMD [&quot;/bin/sh&quot;]</text>
</a>
</g>
</g>
<!-- cust&#45;08ccc6dfb2fc1b3e8df41c861b30b133&#45;&gt;cust&#45;8135b839e617c0821dbd21c91d17b830 -->
<g id="edge78" class="edge">
<title>cust&#45;08ccc6dfb2fc1b3e8df41c861b30b133&#45;&gt;cust&#45;8135b839e617c0821dbd21c91d17b830</title>
<path fill="none" stroke="black" d="M2334.2,-2080.53C2334.2,-2072.27 2334.2,-2063.48 2334.2,-2054.92"/>
<polygon fill="black" stroke="black" points="2337.7,-2054.64 2334.2,-2044.64 2330.7,-2054.64 2337.7,-2054.64"/>
</g>
<!-- cust&#45;3d3c1d90e62bab04fc4f8e7cd63009d8 -->
<g id="node69" class="node">
<title>cust&#45;3d3c1d90e62bab04fc4f8e7cd63009d8</title>
<g id="a_node69"><a xlink:title="LABEL maintainer=NGINX Docker Maintainers &lt;docker&#45;maint@nginx.com&gt;">
<defs>
<linearGradient id="l_68" gradientUnits="userSpaceOnUse" x1="2160.2" y1="-1884.12" x2="2508.2" y2="-1884.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_68)" stroke="black" points="2508.2,-1925.62 2160.2,-1925.62 2160.2,-1842.62 2508.2,-1842.62 2508.2,-1925.62"/>
<text text-anchor="middle" x="2334.2" y="-1910.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="2334.2" y="-1895.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="2334.2" y="-1880.42" font-family="Times,serif" font-size="14.00">subtotal size: 40.62mb</text>
<text text-anchor="middle" x="2334.2" y="-1865.42" font-family="Times,serif" font-size="14.00">running total: 7.0mb</text>
<text text-anchor="middle" x="2334.2" y="-1850.42" font-family="Times,serif" font-size="14.00">LABEL maintainer=NGINX Docker Maintainer</text>
</a>
</g>
</g>
<!-- cust&#45;8135b839e617c0821dbd21c91d17b830&#45;&gt;cust&#45;3d3c1d90e62bab04fc4f8e7cd63009d8 -->
<g id="edge77" class="edge">
<title>cust&#45;8135b839e617c0821dbd21c91d17b830&#45;&gt;cust&#45;3d3c1d90e62bab04fc4f8e7cd63009d8</title>
<path fill="none" stroke="black" d="M2334.2,-1961.53C2334.2,-1953.27 2334.2,-1944.48 2334.2,-1935.92"/>
<polygon fill="black" stroke="black" points="2337.7,-1935.64 2334.2,-1925.64 2330.7,-1935.64 2337.7,-1935.64"/>
</g>
<!-- cust&#45;6bc71f83c83000fd65bf75b1ff5a93e2 -->
<g id="node70" class="node">
<title>cust&#45;6bc71f83c83000fd65bf75b1ff5a93e2</title>
<g id="a_node70"><a xlink:title="ENV NGINX_VERSION=1.25.3">
<defs>
<linearGradient id="l_69" gradientUnits="userSpaceOnUse" x1="2216.2" y1="-1765.12" x2="2452.2" y2="-1765.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_69)" stroke="black" points="2452.2,-1806.62 2216.2,-1806.62 2216.2,-1723.62 2452.2,-1723.62 2452.2,-1806.62"/>
<text text-anchor="middle" x="2334.2" y="-1791.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="2334.2" y="-1776.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="2334.2" y="-1761.42" font-family="Times,serif" font-size="14.00">subtotal size: 40.62mb</text>
<text text-anchor="middle" x="2334.2" y="-1746.42" font-family="Times,serif" font-size="14.00">running total: 7.0mb</text>
<text text-anchor="middle" x="2334.2" y="-1731.42" font-family="Times,serif" font-size="14.00">ENV NGINX_VERSION=1.25.3</text>
</a>
</g>
</g>
<!-- cust&#45;3d3c1d90e62bab04fc4f8e7cd63009d8&#45;&gt;cust&#45;6bc71f83c83000fd65bf75b1ff5a93e2 -->
<g id="edge76" class="edge">
<title>cust&#45;3d3c1d90e62bab04fc4f8e7cd63009d8&#45;&gt;cust&#45;6bc71f83c83000fd65bf75b1ff5a93e2</title>
<path fill="none" stroke="black" d="M2334.2,-1842.53C2334.2,-1834.27 2334.2,-1825.48 2334.2,-1816.92"/>
<polygon fill="black" stroke="black" points="2337.7,-1816.64 2334.2,-1806.64 2330.7,-1816.64 2337.7,-1816.64"/>
</g>
<!-- cust&#45;3411dc178aaaf6e9f947d367117b99c0 -->
<g id="node71" class="node">
<title>cust&#45;3411dc178aaaf6e9f947d367117b99c0</title>
<g id="a_node71"><a xlink:title="ENV PKG_RELEASE=1">
<defs>
<linearGradient id="l_70" gradientUnits="userSpaceOnUse" x1="2242.7" y1="-1646.12" x2="2425.7" y2="-1646.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_70)" stroke="black" points="2425.7,-1687.62 2242.7,-1687.62 2242.7,-1604.62 2425.7,-1604.62 2425.7,-1687.62"/>
<text text-anchor="middle" x="2334.2" y="-1672.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="2334.2" y="-1657.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="2334.2" y="-1642.42" font-family="Times,serif" font-size="14.00">subtotal size: 40.62mb</text>
<text text-anchor="middle" x="2334.2" y="-1627.42" font-family="Times,serif" font-size="14.00">running total: 7.0mb</text>
<text text-anchor="middle" x="2334.2" y="-1612.42" font-family="Times,serif" font-size="14.00">ENV PKG_RELEASE=1</text>
</a>
</g>
</g>
<!-- cust&#45;6bc71f83c83000fd65bf75b1ff5a93e2&#45;&gt;cust&#45;3411dc178aaaf6e9f947d367117b99c0 -->
<g id="edge75" class="edge">
<title>cust&#45;6bc71f83c83000fd65bf75b1ff5a93e2&#45;&gt;cust&#45;3411dc178aaaf6e9f947d367117b99c0</title>
<path fill="none" stroke="black" d="M2334.2,-1723.53C2334.2,-1715.27 2334.2,-1706.48 2334.2,-1697.92"/>
<polygon fill="black" stroke="black" points="2337.7,-1697.64 2334.2,-1687.64 2330.7,-1697.64 2337.7,-1697.64"/>
</g>
<!-- cust&#45;efca7a672d04f01a7ba0aac9692f95c3 -->
<g id="node72" class="node">
<title>cust&#45;efca7a672d04f01a7ba0aac9692f95c3</title>
<g id="a_node72"><a xlink:title="RUN /bin/sh &#45;c set &#45;x &#160;&#160;&#160;&#160;&amp;&amp; addgroup &#45;g 101 &#45;S nginx &#160;&#160;&#160;&#160;&amp;&amp; adduser &#45;S &#45;D &#45;H &#45;u 101 &#45;h /var/cache/nginx &#45;s /sbin/nologin &#45;G nginx &#45;g nginx nginx &#160;&#160;&#160;&#160;&amp;&amp; apkArch=&quot;$(cat /etc/apk/arch)&quot; &#160;&#160;&#160;&#160;&amp;&amp; nginxPackages=&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nginx=${NGINX_VERSION}&#45;r${PKG_RELEASE} &#160;&#160;&#160;&#160;&quot; &#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache &#45;&#45;virtual .checksum&#45;deps &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;openssl &#160;&#160;&#160;&#160;&amp;&amp; case &quot;$apkArch&quot; in &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;x86_64|aarch64) &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set &#45;x &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; KEY_SHA512=&quot;e09fa32f0a0eab2b879ccbbc4d0e4fb9751486eedda75e35fac65802cc9faa266425edf83e261137a2f4d16281ce2c1a5f4502930fe75154723da014214f0655&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; wget &#45;O /tmp/nginx_signing.rsa.pub https://nginx.org/keys/nginx_signing.rsa.pub &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; if echo &quot;$KEY_SHA512 */tmp/nginx_signing.rsa.pub&quot; | sha512sum &#45;c &#45;; then &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;key verification succeeded!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;mv /tmp/nginx_signing.rsa.pub /etc/apk/keys/; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;key verification failed!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;exit 1; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;fi &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;X &quot;https://nginx.org/packages/mainline/alpine/v$(egrep &#45;o &#39;^[0&#45;9]+.[0&#45;9]+&#39; /etc/alpine&#45;release)/main&quot; &#45;&#45;no&#45;cache $nginxPackages &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;*) &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set &#45;x &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; tempDir=&quot;$(mktemp &#45;d)&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; chown nobody:nobody $tempDir &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache &#45;&#45;virtual .build&#45;deps &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;gcc &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;libc&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;make &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;openssl&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;pcre2&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;zlib&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;linux&#45;headers &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;bash &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;alpine&#45;sdk &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findutils &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; su nobody &#45;s /bin/sh &#45;c &quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;export HOME=${tempDir} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cd ${tempDir} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; curl &#45;f &#45;O https://hg.nginx.org/pkg&#45;oss/archive/${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; PKGOSSCHECKSUM=&quot;00b217979265cc9d66c991c9c89427558936dbaa568d175ca45780589171d94f1866217be09a83438d95494cf38baaa6788320f6d8d23f2fb29c03117391ff88 *${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; if [ &quot;$(openssl sha512 &#45;r ${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz)&quot; = &quot;$PKGOSSCHECKSUM&quot; ]; then &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;pkg&#45;oss tarball checksum verification succeeded!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;pkg&#45;oss tarball checksum verification failed!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;exit 1; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;fi &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; tar xzvf ${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cd pkg&#45;oss&#45;${NGINX_VERSION}&#45;${PKG_RELEASE} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cd alpine &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; make base &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk index &#45;o ${tempDir}/packages/alpine/${apkArch}/APKINDEX.tar.gz ${tempDir}/packages/alpine/${apkArch}/*.apk &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; abuild&#45;sign &#45;k ${tempDir}/.abuild/abuild&#45;key.rsa ${tempDir}/packages/alpine/${apkArch}/APKINDEX.tar.gz &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cp ${tempDir}/.abuild/abuild&#45;key.rsa.pub /etc/apk/keys/ &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk del &#45;&#45;no&#45;network .build&#45;deps &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;X ${tempDir}/packages/alpine/ &#45;&#45;no&#45;cache $nginxPackages &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;;; &#160;&#160;&#160;&#160;esac &#160;&#160;&#160;&#160;&amp;&amp; apk del &#45;&#45;no&#45;network .checksum&#45;deps &#160;&#160;&#160;&#160;&amp;&amp; if [ &#45;n &quot;$tempDir&quot; ]; then rm &#45;rf &quot;$tempDir&quot;; fi &#160;&#160;&#160;&#160;&amp;&amp; if [ &#45;f &quot;/etc/apk/keys/abuild&#45;key.rsa.pub&quot; ]; then rm &#45;f /etc/apk/keys/abuild&#45;key.rsa.pub; fi &#160;&#160;&#160;&#160;&amp;&amp; if [ &#45;f &quot;/etc/apk/keys/nginx_signing.rsa.pub&quot; ]; then rm &#45;f /etc/apk/keys/nginx_signing.rsa.pub; fi &#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache &#45;&#45;virtual .gettext gettext &#160;&#160;&#160;&#160;&amp;&amp; mv /usr/bin/envsubst /tmp/ &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; runDeps=&quot;$( &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;scanelf &#45;&#45;needed &#45;&#45;nobanner /tmp/envsubst &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;| awk &#39;{ gsub(/,/, &quot;&#10;so:&quot;, $2); print &quot;so:&quot; $2 }&#39; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;| sort &#45;u &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;| xargs &#45;r apk info &#45;&#45;installed &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;| sort &#45;u &#160;&#160;&#160;&#160;)&quot; &#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache $runDeps &#160;&#160;&#160;&#160;&amp;&amp; apk del &#45;&#45;no&#45;network .gettext &#160;&#160;&#160;&#160;&amp;&amp; mv /tmp/envsubst /usr/local/bin/ &#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache tzdata &#160;&#160;&#160;&#160;&amp;&amp; ln &#45;sf /dev/stdout /var/log/nginx/access.log &#160;&#160;&#160;&#160;&amp;&amp; ln &#45;sf /dev/stderr /var/log/nginx/error.log &#160;&#160;&#160;&#160;&amp;&amp; mkdir /docker&#45;entrypoint.d # buildkit">
<defs>
<linearGradient id="l_71" gradientUnits="userSpaceOnUse" x1="2183.2" y1="-1527.12" x2="2485.2" y2="-1527.12" >
<stop offset="0.106" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.107" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_71)" stroke="black" points="2485.2,-1568.62 2183.2,-1568.62 2183.2,-1485.62 2485.2,-1485.62 2485.2,-1568.62"/>
<text text-anchor="middle" x="2334.2" y="-1553.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.10706328741988047</text>
<text text-anchor="middle" x="2334.2" y="-1538.42" font-family="Times,serif" font-size="14.00">layer size: 4.35mb</text>
<text text-anchor="middle" x="2334.2" y="-1523.42" font-family="Times,serif" font-size="14.00">subtotal size: 40.62mb</text>
<text text-anchor="middle" x="2334.2" y="-1508.42" font-family="Times,serif" font-size="14.00">running total: 11.35mb</text>
<text text-anchor="middle" x="2334.2" y="-1493.42" font-family="Times,serif" font-size="14.00">RUN /bin/sh &#45;c set &#45;x &#160;&#160;&#160;&#160;&amp;&amp; addgroup &#45;g</text>
</a>
</g>
</g>
<!-- cust&#45;3411dc178aaaf6e9f947d367117b99c0&#45;&gt;cust&#45;efca7a672d04f01a7ba0aac9692f95c3 -->
<g id="edge74" class="edge">
<title>cust&#45;3411dc178aaaf6e9f947d367117b99c0&#45;&gt;cust&#45;efca7a672d04f01a7ba0aac9692f95c3</title>
<path fill="none" stroke="black" d="M2334.2,-1604.53C2334.2,-1596.27 2334.2,-1587.48 2334.2,-1578.92"/>
<polygon fill="black" stroke="black" points="2337.7,-1578.64 2334.2,-1568.64 2330.7,-1578.64 2337.7,-1578.64"/>
</g>
<!-- cust&#45;8e42ae896d6c5a1af27240d11be99de0 -->
<g id="node73" class="node">
<title>cust&#45;8e42ae896d6c5a1af27240d11be99de0</title>
<g id="a_node73"><a xlink:title="COPY docker&#45;entrypoint.sh / # buildkit">
<defs>
<linearGradient id="l_72" gradientUnits="userSpaceOnUse" x1="2183.2" y1="-1408.12" x2="2485.2" y2="-1408.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_72)" stroke="black" points="2485.2,-1449.62 2183.2,-1449.62 2183.2,-1366.62 2485.2,-1366.62 2485.2,-1449.62"/>
<text text-anchor="middle" x="2334.2" y="-1434.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 3.803769361685002e&#45;05</text>
<text text-anchor="middle" x="2334.2" y="-1419.42" font-family="Times,serif" font-size="14.00">layer size: 1.58kb</text>
<text text-anchor="middle" x="2334.2" y="-1404.42" font-family="Times,serif" font-size="14.00">subtotal size: 40.62mb</text>
<text text-anchor="middle" x="2334.2" y="-1389.42" font-family="Times,serif" font-size="14.00">running total: 11.35mb</text>
<text text-anchor="middle" x="2334.2" y="-1374.42" font-family="Times,serif" font-size="14.00">COPY docker&#45;entrypoint.sh / # buildkit</text>
</a>
</g>
</g>
<!-- cust&#45;efca7a672d04f01a7ba0aac9692f95c3&#45;&gt;cust&#45;8e42ae896d6c5a1af27240d11be99de0 -->
<g id="edge73" class="edge">
<title>cust&#45;efca7a672d04f01a7ba0aac9692f95c3&#45;&gt;cust&#45;8e42ae896d6c5a1af27240d11be99de0</title>
<path fill="none" stroke="black" d="M2334.2,-1485.53C2334.2,-1477.27 2334.2,-1468.48 2334.2,-1459.92"/>
<polygon fill="black" stroke="black" points="2337.7,-1459.64 2334.2,-1449.64 2330.7,-1459.64 2337.7,-1459.64"/>
</g>
<!-- cust&#45;311378a4cef2cf8859db5697f12c28ef -->
<g id="node74" class="node">
<title>cust&#45;311378a4cef2cf8859db5697f12c28ef</title>
<g id="a_node74"><a xlink:title="COPY 10&#45;listen&#45;on&#45;ipv6&#45;by&#45;default.sh /docker&#45;entrypoint.d # buildkit">
<defs>
<linearGradient id="l_73" gradientUnits="userSpaceOnUse" x1="2181.7" y1="-1289.12" x2="2486.7" y2="-1289.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_73)" stroke="black" points="2486.7,-1330.62 2181.7,-1330.62 2181.7,-1247.62 2486.7,-1247.62 2486.7,-1330.62"/>
<text text-anchor="middle" x="2334.2" y="-1315.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 4.989512279988043e&#45;05</text>
<text text-anchor="middle" x="2334.2" y="-1300.42" font-family="Times,serif" font-size="14.00">layer size: 2.08kb</text>
<text text-anchor="middle" x="2334.2" y="-1285.42" font-family="Times,serif" font-size="14.00">subtotal size: 40.62mb</text>
<text text-anchor="middle" x="2334.2" y="-1270.42" font-family="Times,serif" font-size="14.00">running total: 11.35mb</text>
<text text-anchor="middle" x="2334.2" y="-1255.42" font-family="Times,serif" font-size="14.00">COPY 10&#45;listen&#45;on&#45;ipv6&#45;by&#45;default.sh /do</text>
</a>
</g>
</g>
<!-- cust&#45;8e42ae896d6c5a1af27240d11be99de0&#45;&gt;cust&#45;311378a4cef2cf8859db5697f12c28ef -->
<g id="edge72" class="edge">
<title>cust&#45;8e42ae896d6c5a1af27240d11be99de0&#45;&gt;cust&#45;311378a4cef2cf8859db5697f12c28ef</title>
<path fill="none" stroke="black" d="M2334.2,-1366.53C2334.2,-1358.27 2334.2,-1349.48 2334.2,-1340.92"/>
<polygon fill="black" stroke="black" points="2337.7,-1340.64 2334.2,-1330.64 2330.7,-1340.64 2337.7,-1340.64"/>
</g>
<!-- cust&#45;802a1ec1f36058af033ed2c345475855 -->
<g id="node75" class="node">
<title>cust&#45;802a1ec1f36058af033ed2c345475855</title>
<g id="a_node75"><a xlink:title="COPY 15&#45;local&#45;resolvers.envsh /docker&#45;entrypoint.d # buildkit">
<defs>
<linearGradient id="l_74" gradientUnits="userSpaceOnUse" x1="2177.7" y1="-1170.12" x2="2490.7" y2="-1170.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_74)" stroke="black" points="2490.7,-1211.62 2177.7,-1211.62 2177.7,-1128.62 2490.7,-1128.62 2490.7,-1211.62"/>
<text text-anchor="middle" x="2334.2" y="-1196.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 6.99705722087735e&#45;06</text>
<text text-anchor="middle" x="2334.2" y="-1181.42" font-family="Times,serif" font-size="14.00">layer size: 0.29kb</text>
<text text-anchor="middle" x="2334.2" y="-1166.42" font-family="Times,serif" font-size="14.00">subtotal size: 40.62mb</text>
<text text-anchor="middle" x="2334.2" y="-1151.42" font-family="Times,serif" font-size="14.00">running total: 11.35mb</text>
<text text-anchor="middle" x="2334.2" y="-1136.42" font-family="Times,serif" font-size="14.00">COPY 15&#45;local&#45;resolvers.envsh /docker&#45;en</text>
</a>
</g>
</g>
<!-- cust&#45;311378a4cef2cf8859db5697f12c28ef&#45;&gt;cust&#45;802a1ec1f36058af033ed2c345475855 -->
<g id="edge71" class="edge">
<title>cust&#45;311378a4cef2cf8859db5697f12c28ef&#45;&gt;cust&#45;802a1ec1f36058af033ed2c345475855</title>
<path fill="none" stroke="black" d="M2334.2,-1247.53C2334.2,-1239.27 2334.2,-1230.48 2334.2,-1221.92"/>
<polygon fill="black" stroke="black" points="2337.7,-1221.64 2334.2,-1211.64 2330.7,-1221.64 2337.7,-1221.64"/>
</g>
<!-- cust&#45;3dc34fab449b8edecc9a02f85ee29829 -->
<g id="node76" class="node">
<title>cust&#45;3dc34fab449b8edecc9a02f85ee29829</title>
<g id="a_node76"><a xlink:title="COPY 20&#45;envsubst&#45;on&#45;templates.sh /docker&#45;entrypoint.d # buildkit">
<defs>
<linearGradient id="l_75" gradientUnits="userSpaceOnUse" x1="2172.2" y1="-1051.12" x2="2496.2" y2="-1051.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_75)" stroke="black" points="2496.2,-1092.62 2172.2,-1092.62 2172.2,-1009.62 2496.2,-1009.62 2496.2,-1092.62"/>
<text text-anchor="middle" x="2334.2" y="-1077.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 7.08628144047243e&#45;05</text>
<text text-anchor="middle" x="2334.2" y="-1062.42" font-family="Times,serif" font-size="14.00">layer size: 2.95kb</text>
<text text-anchor="middle" x="2334.2" y="-1047.42" font-family="Times,serif" font-size="14.00">subtotal size: 40.62mb</text>
<text text-anchor="middle" x="2334.2" y="-1032.42" font-family="Times,serif" font-size="14.00">running total: 11.35mb</text>
<text text-anchor="middle" x="2334.2" y="-1017.42" font-family="Times,serif" font-size="14.00">COPY 20&#45;envsubst&#45;on&#45;templates.sh /docker</text>
</a>
</g>
</g>
<!-- cust&#45;802a1ec1f36058af033ed2c345475855&#45;&gt;cust&#45;3dc34fab449b8edecc9a02f85ee29829 -->
<g id="edge70" class="edge">
<title>cust&#45;802a1ec1f36058af033ed2c345475855&#45;&gt;cust&#45;3dc34fab449b8edecc9a02f85ee29829</title>
<path fill="none" stroke="black" d="M2334.2,-1128.53C2334.2,-1120.27 2334.2,-1111.48 2334.2,-1102.92"/>
<polygon fill="black" stroke="black" points="2337.7,-1102.64 2334.2,-1092.64 2330.7,-1102.64 2337.7,-1102.64"/>
</g>
<!-- cust&#45;81a64c5302d3c8a0e7258bff23e4a28c -->
<g id="node77" class="node">
<title>cust&#45;81a64c5302d3c8a0e7258bff23e4a28c</title>
<g id="a_node77"><a xlink:title="COPY 30&#45;tune&#45;worker&#45;processes.sh /docker&#45;entrypoint.d # buildkit">
<defs>
<linearGradient id="l_76" gradientUnits="userSpaceOnUse" x1="2172.2" y1="-932.12" x2="2496.2" y2="-932.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_76)" stroke="black" points="2496.2,-973.62 2172.2,-973.62 2172.2,-890.62 2496.2,-890.62 2496.2,-973.62"/>
<text text-anchor="middle" x="2334.2" y="-958.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.00010845438692359892</text>
<text text-anchor="middle" x="2334.2" y="-943.42" font-family="Times,serif" font-size="14.00">layer size: 4.51kb</text>
<text text-anchor="middle" x="2334.2" y="-928.42" font-family="Times,serif" font-size="14.00">subtotal size: 40.62mb</text>
<text text-anchor="middle" x="2334.2" y="-913.42" font-family="Times,serif" font-size="14.00">running total: 11.36mb</text>
<text text-anchor="middle" x="2334.2" y="-898.42" font-family="Times,serif" font-size="14.00">COPY 30&#45;tune&#45;worker&#45;processes.sh /docker</text>
</a>
</g>
</g>
<!-- cust&#45;3dc34fab449b8edecc9a02f85ee29829&#45;&gt;cust&#45;81a64c5302d3c8a0e7258bff23e4a28c -->
<g id="edge69" class="edge">
<title>cust&#45;3dc34fab449b8edecc9a02f85ee29829&#45;&gt;cust&#45;81a64c5302d3c8a0e7258bff23e4a28c</title>
<path fill="none" stroke="black" d="M2334.2,-1009.53C2334.2,-1001.27 2334.2,-992.48 2334.2,-983.92"/>
<polygon fill="black" stroke="black" points="2337.7,-983.64 2334.2,-973.64 2330.7,-983.64 2337.7,-983.64"/>
</g>
<!-- cust&#45;72b4576b05759a50b1f31c627998345d -->
<g id="node78" class="node">
<title>cust&#45;72b4576b05759a50b1f31c627998345d</title>
<g id="a_node78"><a xlink:title="ENTRYPOINT [&quot;/docker&#45;entrypoint.sh&quot;]">
<defs>
<linearGradient id="l_77" gradientUnits="userSpaceOnUse" x1="2186.2" y1="-813.12" x2="2482.2" y2="-813.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_77)" stroke="black" points="2482.2,-854.62 2186.2,-854.62 2186.2,-771.62 2482.2,-771.62 2482.2,-854.62"/>
<text text-anchor="middle" x="2334.2" y="-839.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="2334.2" y="-824.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="2334.2" y="-809.42" font-family="Times,serif" font-size="14.00">subtotal size: 40.62mb</text>
<text text-anchor="middle" x="2334.2" y="-794.42" font-family="Times,serif" font-size="14.00">running total: 11.36mb</text>
<text text-anchor="middle" x="2334.2" y="-779.42" font-family="Times,serif" font-size="14.00">ENTRYPOINT [&quot;/docker&#45;entrypoint.sh&quot;]</text>
</a>
</g>
</g>
<!-- cust&#45;81a64c5302d3c8a0e7258bff23e4a28c&#45;&gt;cust&#45;72b4576b05759a50b1f31c627998345d -->
<g id="edge68" class="edge">
<title>cust&#45;81a64c5302d3c8a0e7258bff23e4a28c&#45;&gt;cust&#45;72b4576b05759a50b1f31c627998345d</title>
<path fill="none" stroke="black" d="M2334.2,-890.53C2334.2,-882.27 2334.2,-873.48 2334.2,-864.92"/>
<polygon fill="black" stroke="black" points="2337.7,-864.64 2334.2,-854.64 2330.7,-864.64 2337.7,-864.64"/>
</g>
<!-- cust&#45;8b654b77135962a4c88687769dac2519 -->
<g id="node79" class="node">
<title>cust&#45;8b654b77135962a4c88687769dac2519</title>
<g id="a_node79"><a xlink:title="EXPOSE map[80/tcp:{}]">
<defs>
<linearGradient id="l_78" gradientUnits="userSpaceOnUse" x1="2238.7" y1="-694.12" x2="2429.7" y2="-694.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_78)" stroke="black" points="2429.7,-735.62 2238.7,-735.62 2238.7,-652.62 2429.7,-652.62 2429.7,-735.62"/>
<text text-anchor="middle" x="2334.2" y="-720.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="2334.2" y="-705.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="2334.2" y="-690.42" font-family="Times,serif" font-size="14.00">subtotal size: 40.62mb</text>
<text text-anchor="middle" x="2334.2" y="-675.42" font-family="Times,serif" font-size="14.00">running total: 11.36mb</text>
<text text-anchor="middle" x="2334.2" y="-660.42" font-family="Times,serif" font-size="14.00">EXPOSE map[80/tcp:{}]</text>
</a>
</g>
</g>
<!-- cust&#45;72b4576b05759a50b1f31c627998345d&#45;&gt;cust&#45;8b654b77135962a4c88687769dac2519 -->
<g id="edge67" class="edge">
<title>cust&#45;72b4576b05759a50b1f31c627998345d&#45;&gt;cust&#45;8b654b77135962a4c88687769dac2519</title>
<path fill="none" stroke="black" d="M2334.2,-771.53C2334.2,-763.27 2334.2,-754.48 2334.2,-745.92"/>
<polygon fill="black" stroke="black" points="2337.7,-745.64 2334.2,-735.64 2330.7,-745.64 2337.7,-745.64"/>
</g>
<!-- cust&#45;e4b0dbf5849d76ca07477b20bf80ebe5 -->
<g id="node80" class="node">
<title>cust&#45;e4b0dbf5849d76ca07477b20bf80ebe5</title>
<g id="a_node80"><a xlink:title="STOPSIGNAL SIGQUIT">
<defs>
<linearGradient id="l_79" gradientUnits="userSpaceOnUse" x1="2243.2" y1="-575.12" x2="2425.2" y2="-575.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_79)" stroke="black" points="2425.2,-616.62 2243.2,-616.62 2243.2,-533.62 2425.2,-533.62 2425.2,-616.62"/>
<text text-anchor="middle" x="2334.2" y="-601.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="2334.2" y="-586.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="2334.2" y="-571.42" font-family="Times,serif" font-size="14.00">subtotal size: 40.62mb</text>
<text text-anchor="middle" x="2334.2" y="-556.42" font-family="Times,serif" font-size="14.00">running total: 11.36mb</text>
<text text-anchor="middle" x="2334.2" y="-541.42" font-family="Times,serif" font-size="14.00">STOPSIGNAL SIGQUIT</text>
</a>
</g>
</g>
<!-- cust&#45;8b654b77135962a4c88687769dac2519&#45;&gt;cust&#45;e4b0dbf5849d76ca07477b20bf80ebe5 -->
<g id="edge66" class="edge">
<title>cust&#45;8b654b77135962a4c88687769dac2519&#45;&gt;cust&#45;e4b0dbf5849d76ca07477b20bf80ebe5</title>
<path fill="none" stroke="black" d="M2334.2,-652.53C2334.2,-644.27 2334.2,-635.48 2334.2,-626.92"/>
<polygon fill="black" stroke="black" points="2337.7,-626.64 2334.2,-616.64 2330.7,-626.64 2337.7,-626.64"/>
</g>
<!-- cust&#45;0b7bed57c7e0da5bf189d336181f0959 -->
<g id="node81" class="node">
<title>cust&#45;0b7bed57c7e0da5bf189d336181f0959</title>
<g id="a_node81"><a xlink:title="CMD [&quot;nginx&quot; &quot;&#45;g&quot; &quot;daemon off;&quot;]">
<defs>
<linearGradient id="l_80" gradientUnits="userSpaceOnUse" x1="2207.2" y1="-456.12" x2="2461.2" y2="-456.12" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_80)" stroke="black" points="2461.2,-497.62 2207.2,-497.62 2207.2,-414.62 2461.2,-414.62 2461.2,-497.62"/>
<text text-anchor="middle" x="2334.2" y="-482.42" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="2334.2" y="-467.42" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="2334.2" y="-452.42" font-family="Times,serif" font-size="14.00">subtotal size: 40.62mb</text>
<text text-anchor="middle" x="2334.2" y="-437.42" font-family="Times,serif" font-size="14.00">running total: 11.36mb</text>
<text text-anchor="middle" x="2334.2" y="-422.42" font-family="Times,serif" font-size="14.00">CMD [&quot;nginx&quot; &quot;&#45;g&quot; &quot;daemon off;&quot;]</text>
</a>
</g>
</g>
<!-- cust&#45;e4b0dbf5849d76ca07477b20bf80ebe5&#45;&gt;cust&#45;0b7bed57c7e0da5bf189d336181f0959 -->
<g id="edge65" class="edge">
<title>cust&#45;e4b0dbf5849d76ca07477b20bf80ebe5&#45;&gt;cust&#45;0b7bed57c7e0da5bf189d336181f0959</title>
<path fill="none" stroke="black" d="M2334.2,-533.53C2334.2,-525.27 2334.2,-516.48 2334.2,-507.92"/>
<polygon fill="black" stroke="black" points="2337.7,-507.64 2334.2,-497.64 2330.7,-507.64 2337.7,-507.64"/>
</g>
<!-- cust&#45;b11f87b4fd5c464116dd15720f8b2464 -->
<g id="node82" class="node">
<title>cust&#45;b11f87b4fd5c464116dd15720f8b2464</title>
<g id="a_node82"><a xlink:title="ENV NJS_VERSION=0.8.2">
<defs>
<linearGradient id="l_81" gradientUnits="userSpaceOnUse" x1="2232.2" y1="-292.97" x2="2436.2" y2="-292.97" >
<stop offset="-0.001" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.000" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_81)" stroke="black" points="2436.2,-334.47 2232.2,-334.47 2232.2,-251.47 2436.2,-251.47 2436.2,-334.47"/>
<text text-anchor="middle" x="2334.2" y="-319.27" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.0</text>
<text text-anchor="middle" x="2334.2" y="-304.27" font-family="Times,serif" font-size="14.00">layer size: 0b</text>
<text text-anchor="middle" x="2334.2" y="-289.27" font-family="Times,serif" font-size="14.00">subtotal size: 40.62mb</text>
<text text-anchor="middle" x="2334.2" y="-274.27" font-family="Times,serif" font-size="14.00">running total: 11.36mb</text>
<text text-anchor="middle" x="2334.2" y="-259.27" font-family="Times,serif" font-size="14.00">ENV NJS_VERSION=0.8.2</text>
</a>
</g>
</g>
<!-- cust&#45;0b7bed57c7e0da5bf189d336181f0959&#45;&gt;cust&#45;b11f87b4fd5c464116dd15720f8b2464 -->
<g id="edge64" class="edge">
<title>cust&#45;0b7bed57c7e0da5bf189d336181f0959&#45;&gt;cust&#45;b11f87b4fd5c464116dd15720f8b2464</title>
<path fill="none" stroke="black" d="M2334.2,-414.45C2334.2,-393.27 2334.2,-367.16 2334.2,-344.67"/>
<polygon fill="black" stroke="black" points="2337.7,-344.62 2334.2,-334.62 2330.7,-344.62 2337.7,-344.62"/>
</g>
<!-- cust&#45;6d6c74a16d9a97794b222633dee24540 -->
<g id="node83" class="node">
<title>cust&#45;6d6c74a16d9a97794b222633dee24540</title>
<g id="a_node83"><a xlink:title="RUN /bin/sh &#45;c set &#45;x &#160;&#160;&#160;&#160;&amp;&amp; apkArch=&quot;$(cat /etc/apk/arch)&quot; &#160;&#160;&#160;&#160;&amp;&amp; nginxPackages=&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nginx=${NGINX_VERSION}&#45;r${PKG_RELEASE} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nginx&#45;module&#45;xslt=${NGINX_VERSION}&#45;r${PKG_RELEASE} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nginx&#45;module&#45;geoip=${NGINX_VERSION}&#45;r${PKG_RELEASE} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nginx&#45;module&#45;image&#45;filter=${NGINX_VERSION}&#45;r${PKG_RELEASE} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;nginx&#45;module&#45;njs=${NGINX_VERSION}.${NJS_VERSION}&#45;r${PKG_RELEASE} &#160;&#160;&#160;&#160;&quot; &#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache &#45;&#45;virtual .checksum&#45;deps &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;openssl &#160;&#160;&#160;&#160;&amp;&amp; case &quot;$apkArch&quot; in &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;x86_64|aarch64) &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set &#45;x &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; KEY_SHA512=&quot;e09fa32f0a0eab2b879ccbbc4d0e4fb9751486eedda75e35fac65802cc9faa266425edf83e261137a2f4d16281ce2c1a5f4502930fe75154723da014214f0655&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; wget &#45;O /tmp/nginx_signing.rsa.pub https://nginx.org/keys/nginx_signing.rsa.pub &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; if echo &quot;$KEY_SHA512 */tmp/nginx_signing.rsa.pub&quot; | sha512sum &#45;c &#45;; then &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;key verification succeeded!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;mv /tmp/nginx_signing.rsa.pub /etc/apk/keys/; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;key verification failed!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;exit 1; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;fi &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;X &quot;https://nginx.org/packages/mainline/alpine/v$(egrep &#45;o &#39;^[0&#45;9]+.[0&#45;9]+&#39; /etc/alpine&#45;release)/main&quot; &#45;&#45;no&#45;cache $nginxPackages &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;*) &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set &#45;x &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; tempDir=&quot;$(mktemp &#45;d)&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; chown nobody:nobody $tempDir &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache &#45;&#45;virtual .build&#45;deps &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;gcc &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;libc&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;make &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;openssl&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;pcre2&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;zlib&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;linux&#45;headers &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;libxslt&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;gd&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;geoip&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;libedit&#45;dev &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;bash &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;alpine&#45;sdk &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;findutils &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; su nobody &#45;s /bin/sh &#45;c &quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;export HOME=${tempDir} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cd ${tempDir} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; curl &#45;f &#45;O https://hg.nginx.org/pkg&#45;oss/archive/${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; PKGOSSCHECKSUM=&quot;00b217979265cc9d66c991c9c89427558936dbaa568d175ca45780589171d94f1866217be09a83438d95494cf38baaa6788320f6d8d23f2fb29c03117391ff88 *${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; if [ &quot;$(openssl sha512 &#45;r ${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz)&quot; = &quot;$PKGOSSCHECKSUM&quot; ]; then &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;pkg&#45;oss tarball checksum verification succeeded!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;echo &quot;pkg&#45;oss tarball checksum verification failed!&quot;; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;exit 1; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;fi &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; tar xzvf ${NGINX_VERSION}&#45;${PKG_RELEASE}.tar.gz &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cd pkg&#45;oss&#45;${NGINX_VERSION}&#45;${PKG_RELEASE} &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cd alpine &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; make module&#45;geoip module&#45;image&#45;filter module&#45;njs module&#45;xslt &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk index &#45;o ${tempDir}/packages/alpine/${apkArch}/APKINDEX.tar.gz ${tempDir}/packages/alpine/${apkArch}/*.apk &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; abuild&#45;sign &#45;k ${tempDir}/.abuild/abuild&#45;key.rsa ${tempDir}/packages/alpine/${apkArch}/APKINDEX.tar.gz &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; cp ${tempDir}/.abuild/abuild&#45;key.rsa.pub /etc/apk/keys/ &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk del &#45;&#45;no&#45;network .build&#45;deps &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;X ${tempDir}/packages/alpine/ &#45;&#45;no&#45;cache $nginxPackages &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;;; &#160;&#160;&#160;&#160;esac &#160;&#160;&#160;&#160;&amp;&amp; apk del &#45;&#45;no&#45;network .checksum&#45;deps &#160;&#160;&#160;&#160;&amp;&amp; if [ &#45;n &quot;$tempDir&quot; ]; then rm &#45;rf &quot;$tempDir&quot;; fi &#160;&#160;&#160;&#160;&amp;&amp; if [ &#45;f &quot;/etc/apk/keys/abuild&#45;key.rsa.pub&quot; ]; then rm &#45;f /etc/apk/keys/abuild&#45;key.rsa.pub; fi &#160;&#160;&#160;&#160;&amp;&amp; if [ &#45;f &quot;/etc/apk/keys/nginx_signing.rsa.pub&quot; ]; then rm &#45;f /etc/apk/keys/nginx_signing.rsa.pub; fi &#160;&#160;&#160;&#160;&amp;&amp; apk add &#45;&#45;no&#45;cache curl ca&#45;certificates # buildkit">
<defs>
<linearGradient id="l_82" gradientUnits="userSpaceOnUse" x1="2064.8" y1="-93.85" x2="2603.61" y2="-93.85" >
<stop offset="0.719" style="stop-color:yellow;stop-opacity:1.;"/>
<stop offset="0.720" style="stop-color:transparent;stop-opacity:1.;"/>
</linearGradient>
</defs>
<polygon fill="url(#l_82)" stroke="black" points="2603.61,-112.17 2334.2,-171.47 2064.8,-112.17 2167.7,-16.23 2500.7,-16.23 2603.61,-112.17"/>
<text text-anchor="middle" x="2334.2" y="-119.46" font-family="Times,serif" font-size="14.00">subtotal ratio: 0.7203315440511829</text>
<text text-anchor="middle" x="2334.2" y="-104.46" font-family="Times,serif" font-size="14.00">layer size: 29.26mb</text>
<text text-anchor="middle" x="2334.2" y="-89.46" font-family="Times,serif" font-size="14.00">subtotal size: 40.62mb</text>
<text text-anchor="middle" x="2334.2" y="-74.46" font-family="Times,serif" font-size="14.00">running total: 40.62mb</text>
<text text-anchor="middle" x="2334.2" y="-59.46" font-family="Times,serif" font-size="14.00">tags: 1.25.3&#45;alpine</text>
<text text-anchor="middle" x="2334.2" y="-44.46" font-family="Times,serif" font-size="14.00">RUN /bin/sh &#45;c set &#45;x &#160;&#160;&#160;&#160;&amp;&amp; apkArch=&quot;$(</text>
</a>
</g>
</g>
<!-- cust&#45;b11f87b4fd5c464116dd15720f8b2464&#45;&gt;cust&#45;6d6c74a16d9a97794b222633dee24540 -->
<g id="edge63" class="edge">
<title>cust&#45;b11f87b4fd5c464116dd15720f8b2464&#45;&gt;cust&#45;6d6c74a16d9a97794b222633dee24540</title>
<path fill="none" stroke="black" d="M2334.2,-251.4C2334.2,-231.37 2334.2,-206.29 2334.2,-181.79"/>
<polygon fill="black" stroke="black" points="2337.7,-181.71 2334.2,-171.71 2330.7,-181.71 2337.7,-181.71"/>
</g>
</g>
</svg>
